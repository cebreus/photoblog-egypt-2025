const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../assets/fancybox.DxT1xVcY.css"])))=>i.map(i=>d[i]);
import{p as pa,c as M,a as r,f,d as Nt,s as ve,u as ya,m as ba,t as Fe,g as xa,j as yt}from"../chunks/D8GM-E4V.js";import{T as Pa,e as da,U as wa,m as Ia,a$ as Sa,p as oe,f as u,a as se,g as t,z as R,c as _,b0 as Ie,r as g,x as ze,o as B,$ as Tt,u as Dt,s as x,t as K,b1 as ka,aJ as xe,b2 as Ea}from"../chunks/BN7btXG3.js";import{p as ce,i as z,r as pe,s as Se,c as G,b as pt}from"../chunks/DzZXnUWe.js";import{b as We,r as Ma,c as Ye,a as fe,d as Ta,s as zt,e as et,i as ct,f as rt}from"../chunks/CN0_DvCo.js";import{_ as Kt}from"../chunks/PPVm8Dsz.js";import{c as Ca,D as Aa,b as Qe,s as ye,m as xt,n as gt,M as Da,a as za,F as Oa,u as ca,d as Na,P as Ra,C as qa,e as La,g as Jt,f as Fa,h as ja,I as Ge,t as we,B as Xe,S as vt,i as Ga,p as qt,j as $a,k as Ua,l as nt,o as je,q as Va,r as Pt,v as wt,w as It,x as Rt,y as Bt,R as St,z as Ba,A as Ya,E as Ha,G as Ka,H as L,J as Ja,K as Qa,T as Qt,L as jt,N as ot,O as Za,Q as Wa,U as Ue,V as Lt,W as ft,X as ua,Y as Xa,Z as er,_ as Re,$ as tr,a0 as ar,a1 as rr,a2 as bt,a3 as nr,a4 as or}from"../chunks/DkvdAf-d.js";import{p as dt}from"../chunks/BCWLHpk3.js";import{i as it}from"../chunks/DzDRfPdA.js";function Ot(s,e,a){Pa(()=>{var i=da(()=>e(s,a?.())||{});if(a&&i?.update){var n=!1,c={};wa(()=>{var o=a();Ia(o),n&&Sa(c,o)&&(c=o,i.update(o))}),n=!0}if(i?.destroy)return()=>i.destroy()})}var sr=f("<button><!></button>");function ir(s,e){const a=pa();oe(e,!0);let i=ce(e,"id",19,()=>Ca(a)),n=ce(e,"ref",15,null),c=ce(e,"disabled",3,!1),o=pe(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const d=Aa.create({id:Qe(()=>i()),ref:Qe(()=>n(),E=>n(E)),disabled:Qe(()=>!!c())}),P=R(()=>xt(o,d.props));var O=M(),A=u(O);{var re=E=>{var y=M(),S=u(y);ye(S,()=>e.child,()=>({props:t(P)})),r(E,y)},ue=E=>{var y=sr();We(y,()=>({...t(P)}));var S=_(y);ye(S,()=>e.children??Ie),g(y),r(E,y)};z(A,E=>{e.child?E(re):E(ue,!1)})}r(s,O),se()}function lr(s,e){oe(e,!0);let a=ce(e,"open",15,!1),i=ce(e,"dir",3,"ltr"),n=ce(e,"onOpenChange",3,gt),c=ce(e,"onOpenChangeComplete",3,gt);const o=Da.create({variant:Qe(()=>"context-menu"),dir:Qe(()=>i()),onClose:()=>{a(!1),n()?.(!1)}});za.create({open:Qe(()=>a(),d=>{a(d),n()(d)}),onOpenChangeComplete:Qe(()=>c())},o),Oa(s,{children:(d,P)=>{var O=M(),A=u(O);ye(A,()=>e.children??Ie),r(d,O)},$$slots:{default:!0}}),se()}var dr=f("<div><div><!></div></div>"),cr=f("<div><div><!></div></div>");function ur(s,e){oe(e,!0);let a=ce(e,"id",19,ca),i=ce(e,"ref",15,null),n=ce(e,"loop",3,!0),c=ce(e,"onInteractOutside",3,gt),o=ce(e,"onCloseAutoFocus",3,gt),d=ce(e,"onOpenAutoFocus",3,gt),P=ce(e,"preventScroll",3,!0),O=ce(e,"onEscapeKeydown",3,gt),A=ce(e,"forceMount",3,!1),re=ce(e,"trapFocus",3,!1),ue=pe(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","preventScroll","onEscapeKeydown","forceMount","trapFocus"]);const E=Na.create({id:Qe(()=>a()),loop:Qe(()=>n()),ref:Qe(()=>i(),p=>i(p)),onCloseAutoFocus:Qe(()=>o())}),y=R(()=>xt(ue,E.props));function S(p){if(c()(p),!p.defaultPrevented){if(p.target&&p.target instanceof Element){const J=`[${E.parentMenu.root.getBitsAttr("sub-content")}]`;if(p.target.closest(J))return}E.parentMenu.onClose()}}function $(p){O()(p),!p.defaultPrevented&&E.parentMenu.onClose()}function le(p){if("button"in p&&p.button===2){const J=p.target;return J?J.closest(`[${qa}]`)!==E.parentMenu.triggerNode:!1}return!1}var X=M(),F=u(X);{var C=p=>{Ra(p,Se(()=>t(y),()=>E.popperProps,{get ref(){return E.opts.ref},side:"right",sideOffset:2,align:"start",get enabled(){return E.parentMenu.opts.open.current},get preventScroll(){return P()},onInteractOutside:S,onEscapeKeydown:$,get onOpenAutoFocus(){return d()},isValidEvent:le,get trapFocus(){return re()},get loop(){return n()},get id(){return a()},get shouldRender(){return E.shouldRender},popper:(Y,w)=>{let D=()=>w?.().props,I=()=>w?.().wrapperProps;const N=R(()=>xt(D(),{style:Jt("context-menu")}));var Q=M(),j=u(Q);{var de=ee=>{var te=M(),Z=u(te);{let ne=R(()=>({props:t(N),wrapperProps:I(),...E.snippetProps}));ye(Z,()=>e.child,()=>t(ne))}r(ee,te)},W=ee=>{var te=dr();We(te,()=>({...I()}));var Z=_(te);We(Z,()=>({...t(N)}));var ne=_(Z);ye(ne,()=>e.children??Ie),g(Z),g(te),r(ee,te)};z(j,ee=>{e.child?ee(de):ee(W,!1)})}r(Y,Q)},$$slots:{popper:!0}}))},U=p=>{var J=M(),Y=u(J);{var w=D=>{La(D,Se(()=>t(y),()=>E.popperProps,{get ref(){return E.opts.ref},side:"right",sideOffset:2,align:"start",get open(){return E.parentMenu.opts.open.current},get preventScroll(){return P()},onInteractOutside:S,onEscapeKeydown:$,get onOpenAutoFocus(){return d()},isValidEvent:le,get trapFocus(){return re()},get loop(){return n()},get id(){return a()},get shouldRender(){return E.shouldRender},popper:(N,Q)=>{let j=()=>Q?.().props,de=()=>Q?.().wrapperProps;const W=R(()=>xt(j(),{style:Jt("context-menu")}));var ee=M(),te=u(ee);{var Z=be=>{var me=M(),Ee=u(me);{let Ce=R(()=>({props:t(W),wrapperProps:de(),...E.snippetProps}));ye(Ee,()=>e.child,()=>t(Ce))}r(be,me)},ne=be=>{var me=cr();We(me,()=>({...de()}));var Ee=_(me);We(Ee,()=>({...t(W)}));var Ce=_(Ee);ye(Ce,()=>e.children??Ie),g(Ee),g(me),r(be,me)};z(te,be=>{e.child?be(Z):be(ne,!1)})}r(N,ee)},$$slots:{popper:!0}}))};z(Y,D=>{A()||D(w)},!0)}r(p,J)};z(F,p=>{A()?p(C):p(U,!1)})}r(s,X),se()}var vr=f("<div><!></div>");function fr(s,e){oe(e,!0);let a=ce(e,"id",19,ca),i=ce(e,"ref",15,null),n=ce(e,"disabled",3,!1),c=pe(e,["$$slots","$$events","$$legacy","id","ref","child","children","disabled"]);const o=Fa.create({id:Qe(()=>a()),disabled:Qe(()=>n()),ref:Qe(()=>i(),A=>i(A))}),d=R(()=>xt(c,o.props,{style:{pointerEvents:"auto"}},{style:e.style,tabindex:e.tabindex}));var P=M(),O=u(P);G(O,()=>ja,(A,re)=>{re(A,{get id(){return a()},get virtualEl(){return o.virtualElement},get ref(){return o.opts.ref},children:(ue,E)=>{var y=M(),S=u(y);{var $=X=>{var F=M(),C=u(F);ye(C,()=>e.child,()=>({props:t(d)})),r(X,F)},le=X=>{var F=vr();We(F,()=>({...t(d)}));var C=_(F);ye(C,()=>e.children??Ie),g(F),r(X,F)};z(S,X=>{e.child?X($):X(le,!1)})}r(ue,y)},$$slots:{default:!0}})}),r(s,P),se()}function gr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]];Ge(s,Se({name:"layout-grid"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Gt(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]];Ge(s,Se({name:"rotate-ccw"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function mr(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref"]);var n=M(),c=u(n);G(c,()=>ir,(o,d)=>{d(o,Se({"data-slot":"dialog-trigger"},()=>i,{get ref(){return a()},set ref(P){a(P)}}))}),r(s,n),se()}function Zt(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]];Ge(s,Se({name:"archive"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Wt(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"m16 3 4 4-4 4"}],["path",{d:"M20 7H4"}],["path",{d:"m8 21-4-4 4-4"}],["path",{d:"M4 17h16"}]];Ge(s,Se({name:"arrow-right-left"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function hr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526"}],["circle",{cx:"12",cy:"8",r:"6"}]];Ge(s,Se({name:"award"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function _r(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z"}],["circle",{cx:"12",cy:"13",r:"3"}]];Ge(s,Se({name:"camera"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function pr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["circle",{cx:"12",cy:"12",r:"10"}]];Ge(s,Se({name:"circle"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Et(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Ge(s,Se({name:"copy"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function yr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5"}]];Ge(s,Se({name:"cylinder"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function br(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];Ge(s,Se({name:"database"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Xt(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]];Ge(s,Se({name:"funnel"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function xr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1"}]];Ge(s,Se({name:"pause"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Pr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];Ge(s,Se({name:"play"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function wr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2"}]];Ge(s,Se({name:"rectangle-vertical"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Ir(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"}],["path",{d:"m9 11 3 3L22 4"}]];Ge(s,Se({name:"square-check-big"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Sr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z"}]];Ge(s,Se({name:"square-play"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function va(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];Ge(s,Se({name:"square"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function kr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"20",height:"6",x:"2",y:"4",rx:"2"}],["rect",{width:"20",height:"6",x:"2",y:"14",rx:"2"}]];Ge(s,Se({name:"stretch-horizontal"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Er(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["circle",{cx:"12",cy:"8",r:"5"}],["path",{d:"M20 21a8 8 0 0 0-16 0"}]];Ge(s,Se({name:"user-round"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}function Mr(s,e){oe(e,!0);let a=pe(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];Ge(s,Se({name:"users"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);ye(d,()=>e.children??Ie),r(n,o)},$$slots:{default:!0}})),se()}class Tr{#e=ze(null);get sourceImage(){return t(this.#e)}set sourceImage(e){B(this.#e,e,!0)}#t=ze(null);get data(){return t(this.#t)}set data(e){B(this.#t,e,!0)}copy(e){const a={title:e.title,author:e.author,location:e.location,city:e.city,state:e.exif?.state,country:e.exif?.country,countryCode:e.exif?.countryCode,caption:e.caption,keywords:e.keywords};this.sourceImage=e,this.data=a}clear(){this.sourceImage=null,this.data=null}get hasData(){return this.data!==null}}const mt=new Tr;function ea(s){return/--collage(\.jpe?g)?$/i.test(s)||/-collage(\.jpe?g)?$/i.test(s)}async function Ct(s,e){const{loading:a,success:i,error:n,delay:c=500}=e;let o;const d=setTimeout(()=>{o=we.loading(a)},c);try{const P=await s;clearTimeout(d);const O=typeof i=="function"?i(P):i;return o?we.success(O,{id:o}):we.success(O),P}catch(P){clearTimeout(d);const O=typeof n=="function"?n(P):n;throw o?we.error(O,{id:o}):we.error(O),P}}const Cr={zoom:{delay:2e3,transitionClass:"zoom-mode"},timelapse:{delay:100,transitionClass:""},"focus-stack":{delay:500,transitionClass:""},pan:{delay:600,transitionClass:""},burst:{delay:300,transitionClass:""},pano:{delay:0,transitionClass:"is-pano"}},Ar=300,ta=20,Dr=.05,zr=1e3,aa=0,ra=100,Or={zoom:"üîç",pan:"‚ÜîÔ∏è",burst:"üì∏",timelapse:"‚è±Ô∏è","focus-stack":"üéØ",pano:"üåÑ"},Nr="üì∑";var Rr=f('<div class="pano-container svelte-12suzeo"><img class="pano-image svelte-12suzeo"/></div>'),qr=f("<img/>"),Lr=f('<div class="frame-info svelte-12suzeo"><span class="counter"> </span></div>'),Fr=f('<div><div class="image-stack svelte-12suzeo"><!></div> <div class="controls-panel svelte-12suzeo"><div class="controls-inner svelte-12suzeo"><!> <div class="scrubber-wrapper svelte-12suzeo"><input type="range" class="scrubber sequence-scrubber svelte-12suzeo" min="0"/> <div class="progress-fill svelte-12suzeo"></div></div> <!> <div class="frame-info ml-auto svelte-12suzeo"><span class="type-badge svelte-12suzeo"> </span></div></div></div></div>');function jr(s,e){oe(e,!0);let a=ce(e,"autoplay",3,!0),i=ce(e,"loop",3,!0),n=ze(0),c=ze(Tt(da(()=>a()))),o=ze(0),d=ze(1),P=ze(!1),O=null,A=null,re=null;const ue=R(()=>e.sequenceInfo.type==="pano"),E=R(()=>e.sequenceInfo.type==="zoom"),y=R(()=>Cr[e.sequenceInfo.type]?.delay??Ar),S=R(function(){return{pano:vt.TYPE_PANORAMA,zoom:vt.TYPE_ZOOM,timelapse:vt.TYPE_TIMELAPSE,"focus-stack":vt.TYPE_FOCUS_STACK,pan:vt.TYPE_PAN,burst:vt.TYPE_BURST}[e.sequenceInfo.type]??vt.TYPE_SEQUENCE});function $(){if(t(n)<e.images.length-1){ka(n);return}i()?B(n,0):B(c,!1)}function le(){const ge=Dr*t(d),H=Math.max(aa,Math.min(ra,t(o)+ge));B(o,H,!0),(H>=ra||H<=aa)&&(i()?B(d,t(d)*-1):B(c,!1))}function X(){B(P,!0),re=null,t(c)&&(A=setInterval(le,ta))}function F(){O&&clearInterval(O),A&&clearInterval(A),re&&clearTimeout(re),O=null,A=null,re=null}function C(){if(!(A||re)){if(!t(P)){re=setTimeout(X,zr);return}A=setInterval(le,ta)}}function U(){O||(O=setInterval($,t(y)))}function p(){t(ue)?C():U()}function J(){B(c,!t(c))}function Y(ge){const H=ge.target,ie=parseFloat(H.value);t(ue)?B(o,ie,!0):B(n,Math.round(ie),!0),B(c,!1)}Dt(function(){return t(c)?p():F(),F}),Dt(function(){if(e.images.length<=1||t(ue))return;const H=(t(n)+1)%e.images.length,ie=new Image,l=e.images[H].sources.find(h=>h.variant==="detail")||e.images[H].sources[0];ie.src=l.path});var w=Fr();let D;var I=_(w),N=_(I);{var Q=ge=>{const H=R(()=>e.images[0].sources.find(m=>m.variant==="pano_detail")||e.images[0].sources.find(m=>m.variant==="detail")||e.images[0].sources[0]);var ie=Rr(),l=_(ie);let h;g(ie),K(()=>{fe(l,"src",t(H).path),fe(l,"alt",e.images[0].alt||"Panorama"),h=zt(l,"",h,{transform:`translateX(calc(${t(o)/100} * (100vw - 100%)))`})}),r(ge,ie)},j=ge=>{var H=M(),ie=u(H);et(ie,17,()=>e.images,ct,(l,h,m)=>{const T=R(()=>t(h).sources.find(b=>b.variant==="detail")||t(h).sources[0]);var v=qr();let k;K(()=>{fe(v,"src",t(T).path),fe(v,"alt",t(h).alt||`Sn√≠mek ${m+1}`),k=Ye(v,1,"frame svelte-12suzeo",null,k,{active:m===t(n)})}),r(l,v)}),r(ge,H)};z(N,ge=>{t(ue)&&e.images.length>0?ge(Q):ge(j,!1)})}g(I);var de=x(I,2),W=_(de),ee=_(W);{let ge=R(()=>t(c)?"Pause":"Play");Xe(ee,{variant:"ghost",size:"icon-sm",onclick:J,get"aria-label"(){return t(ge)},class:"text-white hover:bg-white/20",children:(H,ie)=>{var l=M(),h=u(l);{var m=v=>{xr(v,{size:20})},T=v=>{Pr(v,{size:20})};z(h,v=>{t(c)?v(m):v(T,!1)})}r(H,l)},$$slots:{default:!0}})}var te=x(ee,2),Z=_(te);Ma(Z),Z.__input=Y;var ne=x(Z,2);let be;g(te);var me=x(te,2);{var Ee=ge=>{var H=Lr(),ie=_(H),l=_(ie);g(ie),g(H),K(()=>ve(l,`${t(n)+1}/${e.images.length??""}`)),r(ge,H)};z(me,ge=>{t(ue)||ge(Ee)})}var Ce=x(me,2),qe=_(Ce),Ae=_(qe,!0);g(qe),g(Ce),g(W),g(de),g(w),K(ge=>{D=Ye(w,1,"sequence-player svelte-12suzeo",null,D,{"is-pano":t(ue),"zoom-mode":t(E)}),fe(Z,"max",t(ue)?100:e.images.length-1),fe(Z,"step",t(ue)?.1:1),Ta(Z,t(ue)?t(o):t(n)),be=zt(ne,"",be,ge),ve(Ae,t(S))},[()=>({width:`${t(ue)?t(o):t(n)/Math.max(1,e.images.length-1)*100}%`})]),r(s,w),se()}Nt(["input"]);let At=null;function $t(){if(At)return At;const s=Ua(),e=[];for(const a of s)for(const i of a.items)i.type!=="separator"&&e.push(i);return At=e,e}function fa(){At=null}function Gr(s){s._player&&(ya(s._player),s._player=null)}function $r(s){const e=s.triggerEl||s.$trigger;return e?e.dataset.imageId||e.getAttribute("data-image-id"):null}function ga(s){return $t().find(a=>a.id===s)??null}function Ur(s){const e=ga(s);return e?!!(Ga(s)||e.specialMedia):!1}function Vr(s,e){const a=ga(s);if(!a)return null;let i=a.sequenceInfo||qt(s),n=[];if(i){if(i.members&&i.members.length>0){const c=$t(),o=new Set(i.members);n=c.filter(d=>o.has(d.id)),n.sort((d,P)=>{const O=d.sequenceInfo||qt(d.id),A=P.sequenceInfo||qt(P.id);return(O?.index??0)-(A?.index??0)})}else{const c=$t();n=$a(c,i.baseId)}if(n.length===0)return null}else if(a.specialMedia?.isPanorama)i={type:"pano",index:1,total:1,baseId:s},n=[a];else return null;try{return ba(jr,{target:e,props:{images:n,sequenceInfo:i,autoplay:!0,loop:!0}})}catch{return null}}function Yt(s){const e=s._imageId;if(!e||s._player)return;const a=s.el?.querySelector(".sequence-player-host");a&&(s._player=Vr(e,a))}function Br(s,e,a){const i=$r(a);!i||!Ur(i)||(a.type="html",a.html='<div class="sequence-player-host" style="width:100%; height:100%; display:flex; flex-direction:column; background:black;"></div>',a._imageId=i)}function Yr(s,e,a){a._imageId&&Yt(a)}function Hr(s){const e=s.Carousel;if(e?.slides)for(const a of e.slides)a._imageId&&Yt(a)}function Kr(s,e){if(!e?.slides||e.page===void 0)return;const a=e.slides[e.page];a?._imageId&&Yt(a)}function Jr(s,e){if(e?.slides){for(const a of e.slides)Gr(a);fa()}}const na={Hash:!1,Carousel:{Thumbs:{showOnStart:!1}},on:{"Carousel.createSlide":Br,"Carousel.attachSlideEl":Yr,"Carousel.ready":Hr,"Carousel.change":Kr,"Carousel.destroy":Jr}};function Qr(s,{selector:e="[data-fancybox]",options:a={}}={}){let i,n;async function c(){if(typeof window>"u")return;const{Fancybox:o}=await Kt(async()=>{const{Fancybox:P}=await import("../chunks/HIz69M1L.js");return{Fancybox:P}},[],import.meta.url);await Kt(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),n=o;const d={...na,...a,on:{...na.on,...a.on}};i=n.bind(s,e,d),s.setAttribute("data-fancybox-initialized","true")}return c(),{destroy(){i?.(),fa()}}}const ma="-64px 0px 0px 0px",Zr=0,Mt=new Map;function Wr(s,e){const a=Array.isArray(e)?e.join(","):String(e);return`${s??ma}|${a}`}const Ht=(s,e)=>{const{id:a,rootMargin:i=ma,threshold:n=Zr}=e;if(!a)return{destroy(){}};const c=Wr(i,n);let o=Mt.get(c);if(!o){const d=new Map;o={observer:new IntersectionObserver(O=>{const A=[],re=[];if(O.forEach(E=>{const y=d.get(E.target);y&&(E.isIntersecting?A.push(y):re.push(y))}),A.length===0&&re.length===0)return;const ue=new Set(nt.activeSections);re.forEach(E=>{ue.delete(E)}),A.forEach(E=>{ue.add(E)}),nt.activeSections=ue},{rootMargin:i,threshold:n}),nodes:d},Mt.set(c,o)}return o.nodes.set(s,a),o.observer.observe(s),{update(d){},destroy(){const d=Mt.get(c);if(d){d.nodes.delete(s);try{d.observer.unobserve(s)}catch{}d.nodes.size===0&&(d.observer.disconnect(),Mt.delete(c))}}}};var Xr=f("<div><!></div>");function en(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Xr();We(n,o=>({"data-slot":"empty",class:o,...i}),[()=>je("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12",e.class)]);var c=_(n);ye(c,()=>e.children??Ie),g(n),pt(n,o=>a(o),()=>a()),r(s,n),se()}var tn=f("<div><!></div>");function an(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=tn();We(n,o=>({"data-slot":"empty-content",class:o,...i}),[()=>je("flex w-full max-w-sm min-w-0 flex-col items-center gap-4 text-sm text-balance",e.class)]);var c=_(n);ye(c,()=>e.children??Ie),g(n),pt(n,o=>a(o),()=>a()),r(s,n),se()}var rn=f("<div><!></div>");function nn(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=rn();We(n,o=>({"data-slot":"empty-description",class:o,...i}),[()=>je("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",e.class)]);var c=_(n);ye(c,()=>e.children??Ie),g(n),pt(n,o=>a(o),()=>a()),r(s,n),se()}var on=f("<div><!></div>");function sn(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=on();We(n,o=>({"data-slot":"empty-header",class:o,...i}),[()=>je("flex max-w-sm flex-col items-center gap-2 text-center",e.class)]);var c=_(n);ye(c,()=>e.children??Ie),g(n),pt(n,o=>a(o),()=>a()),r(s,n),se()}const ln=Va({base:"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});var dn=f("<div><!></div>");function cn(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=ce(e,"variant",3,"default"),n=pe(e,["$$slots","$$events","$$legacy","ref","class","children","variant"]);var c=dn();We(c,d=>({"data-slot":"empty-icon","data-variant":i(),class:d,...n}),[()=>je(ln({variant:i()}),e.class)]);var o=_(c);ye(o,()=>e.children??Ie),g(c),pt(c,d=>a(d),()=>a()),r(s,c),se()}var un=f("<div><!></div>");function vn(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=un();We(n,o=>({"data-slot":"empty-title",class:o,...i}),[()=>je("text-lg font-medium tracking-tight",e.class)]);var c=_(n);ye(c,()=>e.children??Ie),g(n),pt(n,o=>a(o),()=>a()),r(s,n),se()}var fn=f("<!> <!>",1),gn=f("<!> <!> <!>",1);function oa(s,e){oe(e,!0);var a=M(),i=u(a);G(i,()=>en,(n,c)=>{c(n,{class:"mx-auto flex max-w-xl bg-linear-to-br from-slate-100 to-slate-300 p-6 text-center dark:from-slate-700 dark:to-slate-800",children:(o,d)=>{var P=gn(),O=u(P);G(O,()=>cn,(E,y)=>{y(E,{children:(S,$)=>{var le=M(),X=u(le);G(X,()=>e.icon,(F,C)=>{C(F,{class:"text-muted-foreground/60 "})}),r(S,le)},$$slots:{default:!0}})});var A=x(O,2);G(A,()=>sn,(E,y)=>{y(E,{children:(S,$)=>{var le=fn(),X=u(le);G(X,()=>vn,(C,U)=>{U(C,{children:(p,J)=>{xe();var Y=Fe();K(()=>ve(Y,e.title)),r(p,Y)},$$slots:{default:!0}})});var F=x(X,2);G(F,()=>nn,(C,U)=>{U(C,{children:(p,J)=>{xe();var Y=Fe();K(()=>ve(Y,e.description)),r(p,Y)},$$slots:{default:!0}})}),r(S,le)},$$slots:{default:!0}})});var re=x(A,2);{var ue=E=>{var y=M(),S=u(y);G(S,()=>an,($,le)=>{le($,{children:(X,F)=>{Xe(X,{variant:"secondary",get onclick(){return e.action.handler},children:(C,U)=>{xe();var p=Fe();K(()=>ve(p,e.action.label)),r(C,p)},$$slots:{default:!0}})},$$slots:{default:!0}})}),r(E,y)};z(re,E=>{e.action&&E(ue)})}r(o,P)},$$slots:{default:!0}})}),r(s,a),se()}var mn=f('<section class="bg-linear-to-br from-slate-700 to-slate-950 py-24" data-testid="hero-section"><div class="container mx-auto grid items-center gap-8 lg:grid-cols-1"><div class="flex flex-col items-center gap-y-2 text-center" data-testid="hero-left"><h1 class="my-6 bg-linear-to-br from-orange-400 to-red-600 bg-clip-text text-3xl leading-tight font-bold text-pretty text-transparent lg:text-5xl" data-testid="hero-title"> </h1> <p class="mb-8 max-w-xl text-balance text-slate-300 lg:text-lg" data-testid="hero-description"> </p></div></div></section>');function hn(s,e){oe(e,!0);const a=R(()=>dt.data.siteManifest);var i=mn(),n=_(i),c=_(n),o=_(c),d=_(o,!0);g(o);var P=x(o,2),O=_(P,!0);g(P),g(c),g(n),g(i),K(()=>{ve(d,t(a)?.open_graph?.site_name),ve(O,t(a)?.manifest?.appDescription)}),r(s,i),se()}var _n=f("<!> <!>",1),pn=f('<li class="flex items-center gap-3 text-sm"><img class="bg-muted h-20 w-20 rounded object-cover"/> <span class="font-mono text-xs"> </span></li>'),yn=f("<!> <!>",1),bn=f('<!> <div class="my-4 max-h-75 overflow-y-auto rounded border p-2"><ul class="space-y-2"></ul></div> <!>',1);function xn(s,e){oe(e,!0);let a=ce(e,"open",15,!1),i=ce(e,"isArchiving",3,!1);var n=M(),c=u(n);G(c,()=>St,(o,d)=>{d(o,{get open(){return a()},set open(P){a(P)},children:(P,O)=>{var A=M(),re=u(A);G(re,()=>Pt,(ue,E)=>{E(ue,{"data-testid":"archive-image-dialog-content",children:(y,S)=>{var $=bn(),le=u($);G(le,()=>wt,(U,p)=>{p(U,{children:(J,Y)=>{var w=_n(),D=u(w);G(D,()=>It,(N,Q)=>{Q(N,{children:(j,de)=>{xe();var W=Fe("Archivovat fotky?");r(j,W)},$$slots:{default:!0}})});var I=x(D,2);G(I,()=>Rt,(N,Q)=>{Q(N,{children:(j,de)=>{xe();var W=Fe("N√°sleduj√≠c√≠ fotky budou p≈ôesunuty do slo≈æky 'archive' a nebudou se ji≈æ zobrazovat na webu.");r(j,W)},$$slots:{default:!0}})}),r(J,w)},$$slots:{default:!0}})});var X=x(le,2),F=_(X);et(F,21,()=>e.images,ct,(U,p)=>{var J=pn(),Y=_(J),w=x(Y,2),D=_(w,!0);g(w),g(J),K((I,N)=>{fe(Y,"src",I),fe(Y,"alt",t(p).alt),ve(D,N)},[()=>t(p).sources.find(I=>I.variant==="fallback")?.path,()=>t(p).src.split("/").pop()]),r(U,J)}),g(F),g(X);var C=x(X,2);G(C,()=>Bt,(U,p)=>{p(U,{children:(J,Y)=>{var w=yn(),D=u(w);Xe(D,{variant:"outline",type:"button",onclick:()=>a(!1),"data-testid":"archive-image-dialog-cancel",children:(N,Q)=>{xe();var j=Fe("Zru≈°it");r(N,j)},$$slots:{default:!0}});var I=x(D,2);Xe(I,{variant:"default",type:"button",get onclick(){return e.onConfirm},get disabled(){return i()},"data-testid":"archive-image-dialog-confirm",children:(N,Q)=>{xe();var j=Fe();K(()=>ve(j,i()?"Archivace...":"Potvrdit archivaci")),r(N,j)},$$slots:{default:!0}}),r(J,w)},$$slots:{default:!0}})}),r(y,$)},$$slots:{default:!0}})}),r(P,A)},$$slots:{default:!0}})}),r(s,n),se()}var Pn=f('<div class="bg-opacity-50 pointer-events-none absolute top-2 right-2 rounded-md bg-gray-900 p-1.5 text-white" data-testid="aspect-ratio-icon"><!></div>');function wn(s,e){oe(e,!0);let a=ze(void 0);Dt(()=>{e.isCollage?B(a,gr,!0):e.aspectRatio==="square"?B(a,va,!0):e.aspectRatio?.startsWith("portrait")?B(a,wr,!0):e.aspectRatio==="panorama"?B(a,yr,!0):e.aspectRatio==="sphere"?B(a,pr,!0):B(a,void 0)});var i=Pn(),n=_(i);{var c=o=>{var d=M(),P=u(d);G(P,()=>t(a),(O,A)=>{A(O,{class:"h-4 w-4"})}),r(o,d)};z(n,o=>{t(a)&&o(c)})}g(i),r(s,i),se()}var In=f('<div class="flex"><span class="text-pink-400"> </span> <!></div>'),Sn=f('<div class="border-l border-gray-700 pl-2"></div> <span class="text-white">}</span>',1),kn=f('<button class="cursor-pointer text-gray-400 hover:text-gray-100"><span> </span></button> <span class="text-white"> </span> <!>',1),En=f('<div class="flex"><span class="text-gray-500"></span> <!></div>'),Mn=f('<div class="border-l border-gray-700 pl-2"></div> <span class="text-white">]</span>',1),Tn=f('<button class="cursor-pointer text-gray-400 hover:text-gray-100"><span> </span></button> <span class="text-white"> </span> <!>',1),Cn=f('<span class="break-all text-green-400"> </span>'),An=f('<span class="text-blue-400"> </span>'),Dn=f('<span class="text-purple-400"> </span>'),zn=f('<span class="text-gray-500">null</span>'),On=f('<div class="font-mono text-xs" data-testid="json-viewer"><!></div>');function Ut(s,e){oe(e,!0);let a=ce(e,"level",3,0),i=ce(e,"defaultExpanded",3,!1);const n=R(()=>a()===0||i());let c=ze(null);const o=R(()=>t(c)??t(n)),d=S=>typeof S=="object"&&S!==null&&!Array.isArray(S),P=S=>Array.isArray(S);function O(){B(c,!t(o))}var A=On();let re;var ue=_(A);{var E=S=>{var $=kn(),le=u($);le.__click=O;var X=_(le),F=_(X,!0);g(X),g(le);var C=x(le,2),U=_(C,!0);g(C);var p=x(C,2);{var J=Y=>{var w=Sn(),D=u(w);et(D,21,()=>Object.entries(e.data),ct,(I,N)=>{var Q=R(()=>Ea(t(N),2));let j=()=>t(Q)[0],de=()=>t(Q)[1];var W=In(),ee=_(W),te=_(ee);g(ee);var Z=x(ee,2);{let ne=R(()=>a()+1);Ut(Z,{get data(){return de()},get level(){return t(ne)},defaultExpanded:!1})}g(W),K(()=>ve(te,`"${j()??""}":`)),r(I,W)}),g(D),xe(2),r(Y,w)};z(p,Y=>{t(o)&&Y(J)})}K(()=>{ve(F,t(o)?"‚ñº":"‚ñ∂"),ve(U,t(o)?"{":"{...}")}),r(S,$)},y=S=>{var $=M(),le=u($);{var X=C=>{var U=Tn(),p=u(U);p.__click=O;var J=_(p),Y=_(J,!0);g(J),g(p);var w=x(p,2),D=_(w);g(w);var I=x(w,2);{var N=Q=>{var j=Mn(),de=u(j);et(de,21,()=>e.data,ct,(W,ee,te)=>{var Z=En(),ne=_(Z);ne.textContent=`${te}:`;var be=x(ne,2);{let me=R(()=>a()+1);Ut(be,{get data(){return t(ee)},get level(){return t(me)},defaultExpanded:!1})}g(Z),r(W,Z)}),g(de),xe(2),r(Q,j)};z(I,Q=>{t(o)&&Q(N)})}K(()=>{ve(Y,t(o)?"‚ñº":"‚ñ∂"),ve(D,`${t(o)?"[":"[...]"}${!t(o)&&e.data.length>0?` (${e.data.length} items)`:""}`)}),r(C,U)},F=C=>{var U=M(),p=u(U);{var J=w=>{var D=Cn(),I=_(D);g(D),K(()=>ve(I,`"${e.data??""}"`)),r(w,D)},Y=w=>{var D=M(),I=u(D);{var N=j=>{var de=An(),W=_(de,!0);g(de),K(()=>ve(W,e.data)),r(j,de)},Q=j=>{var de=M(),W=u(de);{var ee=Z=>{var ne=Dn(),be=_(ne,!0);g(ne),K(me=>ve(be,me),[()=>String(e.data)]),r(Z,ne)},te=Z=>{var ne=M(),be=u(ne);{var me=Ee=>{var Ce=zn();r(Ee,Ce)};z(be,Ee=>{e.data===null&&Ee(me)},!0)}r(Z,ne)};z(W,Z=>{typeof e.data=="boolean"?Z(ee):Z(te,!1)},!0)}r(j,de)};z(I,j=>{typeof e.data=="number"?j(N):j(Q,!1)},!0)}r(w,D)};z(p,w=>{typeof e.data=="string"?w(J):w(Y,!1)},!0)}r(C,U)};z(le,C=>{P(e.data)?C(X):C(F,!1)},!0)}r(S,$)};z(ue,S=>{d(e.data)?S(E):S(y,!1)})}g(A),K(()=>re=zt(A,"",re,{"--level":a(),"padding-left":"calc(var(--level) * 0.5rem)"})),r(s,A),se()}Nt(["click"]);var Nn=f('<div class="pointer-events-none absolute top-2 right-2 flex items-center gap-1 rounded bg-black/70 px-2 py-1 text-xs font-semibold text-white shadow-lg backdrop-blur-sm" data-testid="sequence-badge"><span> </span> <span> </span></div>');function Rn(s,e){oe(e,!0);const a=R(()=>Or[e.info.type]??Nr),i=R(()=>e.info.type==="zoom");var n=Nn(),c=_(n),o=_(c,!0);g(c);var d=x(c,2),P=_(d);g(d),g(n),K(()=>{ve(o,t(a)),ve(P,`${e.info.total??""}${t(i)?"√ó":""}`)}),r(s,n),se()}function qn(s,e){oe(e,!0);let a=ce(e,"open",15,!1),i=pe(e,["$$slots","$$events","$$legacy","open"]);var n=M(),c=u(n);G(c,()=>lr,(o,d)=>{d(o,Se(()=>i,{get open(){return a()},set open(P){a(P)}}))}),r(s,n),se()}function ha(s,e){let a=pe(e,["$$slots","$$events","$$legacy"]);var i=M(),n=u(i);G(n,()=>Ba,(c,o)=>{o(c,Se(()=>a))}),r(s,i)}function Ln(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref","portalProps","class"]);ha(s,Se(()=>e.portalProps,{children:(n,c)=>{var o=M(),d=u(o);{let P=R(()=>je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-end-2 data-[side=right]:slide-in-from-start-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--bits-context-menu-content-available-height) min-w-[8rem] origin-(--bits-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e.class));G(d,()=>ur,(O,A)=>{A(O,Se({"data-slot":"context-menu-content",get class(){return t(P)}},()=>i,{get ref(){return a()},set ref(re){a(re)}}))})}r(n,o)},$$slots:{default:!0}})),se()}function at(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=ce(e,"variant",3,"default"),n=pe(e,["$$slots","$$events","$$legacy","ref","class","inset","variant"]);var c=M(),o=u(c);{let d=R(()=>je("data-highlighted:bg-accent data-highlighted:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:data-highlighted:bg-destructive/10 dark:data-[variant=destructive]:data-highlighted:bg-destructive/20 data-[variant=destructive]:data-highlighted:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:ps-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e.class));G(o,()=>Ya,(P,O)=>{O(P,Se({"data-slot":"context-menu-item",get"data-inset"(){return e.inset},get"data-variant"(){return i()},get class(){return t(d)}},()=>n,{get ref(){return a()},set ref(A){a(A)}}))})}r(s,c),se()}function Ft(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref","class"]);var n=M(),c=u(n);{let o=R(()=>je("bg-border -mx-1 my-1 h-px",e.class));G(c,()=>Ha,(d,P)=>{P(d,Se({"data-slot":"context-menu-separator",get class(){return t(o)}},()=>i,{get ref(){return a()},set ref(O){a(O)}}))})}r(s,n),se()}function Fn(s,e){oe(e,!0);let a=ce(e,"ref",15,null),i=pe(e,["$$slots","$$events","$$legacy","ref"]);var n=M(),c=u(n);G(c,()=>fr,(o,d)=>{d(o,Se({"data-slot":"context-menu-trigger"},()=>i,{get ref(){return a()},set ref(P){a(P)}}))}),r(s,n),se()}function _t(s){if(!s)return"";const e=s.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})/);if(!e)return s;const[,a,i,n,c,o]=e;return`${parseInt(n)}. ${parseInt(i)}. ${a} ${c}:${o}`}function jn(s){return s.split("/").pop()}function Gn(s){const e=[s.location!=="Unknown"?s.location:null,s.city,s.exif?.country].filter(Boolean);return e.length>0?e.join(", "):null}function $n(s){const e=[],a=jn(s.src);a&&e.push(`File: ${a}`),s.date&&e.push(`Date: ${_t(s.date)}`);const i=Gn(s);i&&e.push(`Location: ${i}`);const n=s.latitude??s.exif?.latitude,c=s.longitude??s.exif?.longitude;return n!=null&&c!=null&&e.push(`GPS: ${n}, ${c}`),e.join(`
`)}const Un=(s,e)=>{let a=()=>e?.().item;var i=Hn(),n=_(i),c=_(n,!0);g(n);var o=x(n,2),d=_(o);{var P=E=>{var y=Vn(),S=_(y),$=_(S,!0);g(S),g(y),K(le=>ve($,le),[()=>_t(a().date)]),r(E,y)};z(d,E=>{a().date&&E(P)})}var O=x(d,2);{var A=E=>{var y=Bn(),S=_(y);g(y),K(()=>{fe(y,"title",a().author),ve(S,`Author: ${a().author??""}`)}),r(E,y)};z(O,E=>{a().author&&E(A)})}var re=x(O,2);{var ue=E=>{var y=Yn(),S=_(y);g(y),K(()=>ve(S,`${a().width??""}x${a().height??""}`)),r(E,y)};z(re,E=>{a().width&&a().height&&E(ue)})}g(o),g(i),K((E,y)=>{fe(n,"title",E),ve(c,y)},[()=>a().src.split("/").pop(),()=>a().src.split("/").pop()]),r(s,i)};var Vn=f('<div class="flex items-center gap-1"><span> </span></div>'),Bn=f('<div class="truncate"> </div>'),Yn=f('<div class="opacity-70"> </div>'),Hn=f('<div class="space-y-1 pt-2 text-sm"><div class="truncate font-bold"> </div> <div class="text-muted-foreground flex flex-col gap-0.5 text-xs"><!> <!> <!></div></div>'),Kn=f("<!> Smazat",1),Jn=f("<!> Archivovat",1),Qn=f('<div class="mt-auto flex flex-col items-stretch gap-2 pt-2"><div class="flex items-center gap-2"><!> <!></div></div>'),Zn=f('<span class="text-muted-foreground"></span>'),Wn=f('<tr><th class="text-muted-foreground min-w-16 px-1 py-1 align-baseline font-medium"> </th><td><!></td></tr>'),Xn=f('<div data-testid="photo-grid-item-metadata-container"><table class="mt-2 w-full rounded-md bg-slate-50 text-xs dark:bg-slate-950" data-testid="photo-grid-item-metadata-table"><tbody></tbody></table></div>'),eo=f('<div class="pointer-events-none absolute inset-0"></div>'),to=f('<source sizes="(min-width: 1280px) 25vw, (min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw"/>'),ao=f('<picture><!> <img loading="lazy" class="h-full w-full cursor-zoom-in object-cover"/></picture>'),ro=f('<img loading="lazy" class="h-full w-full object-contain"/>'),no=f('<div class="rounded bg-green-600 px-1.5 py-0.5 text-[10px] font-bold text-white shadow" data-testid="curation-recommendation-badge">DOPORUƒåENO</div>'),oo=f('<div class="rounded bg-amber-500 px-1.5 py-0.5 text-[10px] font-bold text-white shadow">DUPLICITY</div> <!>',1),so=f('<div class="pointer-events-none absolute top-2 left-2 z-10 flex flex-col gap-1"><!> <!> <!></div>'),io=xa('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="text-white"><polyline points="20 6 9 17 4 12"></polyline></svg>'),lo=f('<div class="pointer-events-auto absolute top-2 right-2"><div><!></div></div>'),co=f("<!> Porovnat duplicity",1),uo=f('<div class="pointer-events-none absolute inset-0 flex items-center justify-center gap-2"><!></div>'),vo=f("<div><!> <!></div>"),fo=f('<span class="sr-only">Otev≈ô√≠t detail fotky</span>'),go=f("<figure><!> <!></figure> <!> <!> <!> <!>",1),mo=f('<div class="mt-2 overflow-x-auto rounded-md bg-slate-950 p-2 text-xs whitespace-nowrap text-white"><!></div>'),ho=f("<!> <!>",1),_o=f("<!> <!> <!> <!>",1),po=f("<!> <span>Kop√≠rovat metadata</span>",1),yo=f("<!> <span>Kop√≠rovat do schr√°nky</span>",1),bo=f('<div class="flex flex-1 items-center gap-2"><!> <span> </span></div>'),xo=f('<div class="text-muted-foreground flex flex-1 items-center gap-2 pl-6 text-xs"><span>‚Ü≥ Pouze na tento obr√°zek</span></div>'),Po=f("<!> <!>",1),wo=f("<!> <span>Vlo≈æit metadata</span>",1),Io=f('<div class="flex flex-1 items-center gap-2"><!> <span> </span></div>'),So=f('<div class="text-muted-foreground flex flex-1 items-center gap-2 pl-6 text-xs"><span>‚Ü≥ Pouze tento obr√°zek</span></div>'),ko=f("<!> <!>",1),Eo=f("<!> <span>Resetovat datum ≈ôazen√≠</span>",1),Mo=f("<!> <span>Prohodit ƒçasy (Swap)</span>",1),To=f("<!> <span>Rozprost≈ô√≠t ƒçasy</span>",1),Co=f("<!> <!> <!>",1),Ao=f("<!> <span>Smazat obr√°zek</span>",1),Do=f("<!> <span>Archivovat fotku</span>",1),zo=f("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Oo=f("<!> <!>",1);function Vt(s,e){oe(e,!0);const a=w=>{var D=Qn(),I=_(D),N=_(I);Xe(N,{variant:"destructive",size:"sm",class:"flex-1 gap-2",onclick:C,"aria-label":"Smazat tuto fotku",children:(j,de)=>{var W=Kn(),ee=u(W);Qt(ee,{class:"size-3"}),xe(),r(j,W)},$$slots:{default:!0}});var Q=x(N,2);Xe(Q,{variant:"secondary",size:"sm",class:"flex-1 gap-2 border border-slate-200 dark:border-slate-800",onclick:j=>{j.stopPropagation(),e.onArchive?.(e.item)},"aria-label":"Archivovat tuto fotku",children:(j,de)=>{var W=Jn(),ee=u(W);Zt(ee,{class:"size-3"}),xe(),r(j,W)},$$slots:{default:!0}}),g(I),g(D),r(w,D)},i=(w,D)=>{let I=()=>D?.().item;const N=R(()=>I().src.split("/").pop()??I().src),Q=R(()=>I().exif?.releaseDate&&I().exif?.date&&I().exif.releaseDate!==I().exif.date),j=R(()=>[{label:"Soubor",value:t(N),isTechnical:!0},{label:"Po≈ô√≠zen√≠",value:_t(I().exif?.date||""),isTechnical:!0},{label:"≈òazen√≠",value:_t(I().exif?.releaseDate||""),isTechnical:!0,isModified:t(Q)},{label:"Lid√©",value:(I().people||[]).map(te=>Za.people.find(Z=>Z.id===te)?.name).filter(Boolean).join(", "),isTechnical:!0},{label:"Autor",value:I().author},{label:"M√≠sto",value:I().location},{label:"Mƒõsto",value:I().city},{label:"St√°t / Provincie",value:I().exif?.state},{label:"Zemƒõ",value:I().exif?.country?`${I().exif.country}${I().exif.countryCode?` (${I().exif.countryCode})`:""}`:I().exif?.countryCode||""},{label:"Kl√≠ƒçov√° slova",value:I().keywords?.join(", ")},{label:"Popisek",value:I().caption},{label:"N√°zev",value:I().title},{label:"Rozmƒõry",value:I().width&&I().height?`${I().width} x ${I().height}`:"",isTechnical:!0},{label:"Velikost",value:I().sizeMB!=null?`${I().sizeMB} MB`:"",isTechnical:!0},{label:"Aesthetic / Sharpness",value:I().analysis?`${I().analysis.aestheticScore?.toFixed(2)??""} / ${I().analysis.sharpness?.toFixed(2)??"‚Äî"}<br /><span title="Quality Bucket">${I().analysis.qualityBucket??"‚Äî"}</span>`:"‚Äî",isTechnical:!0}]);var de=M(),W=u(de);{var ee=te=>{var Z=Xn(),ne=_(Z),be=_(ne);et(be,21,()=>t(j),ct,(me,Ee,Ce)=>{var qe=Wn(),Ae=_(qe),ge=_(Ae,!0);g(Ae);var H=x(Ae),ie=_(H);{var l=m=>{var T=M(),v=u(T);jt(v,()=>t(Ee).value),r(m,T)},h=m=>{var T=Zn();r(m,T)};z(ie,m=>{t(Ee).value?m(l):m(h,!1)})}g(H),g(qe),K((m,T)=>{Ye(qe,1,rt(Ce<t(j).length-1?"border-b border-slate-400 dark:border-slate-700":"")),fe(qe,"data-testid",`photo-grid-item-metadata-row-${m??""}`),ve(ge,t(Ee).label),Ye(H,1,T)},[()=>t(Ee).label.toLowerCase().replace(/\s+/g,"-"),()=>rt(je("line-clamp-3 w-full max-w-full min-w-0 py-1 font-mono whitespace-pre-line",t(Ee).isTechnical&&"text-muted-foreground",t(Ee).isModified&&"text-pink-600 dark:text-pink-400"))]),r(me,qe)}),g(be),g(ne),g(Z),r(te,Z)};z(W,te=>{t(p)&&te(ee)})}r(w,de)};let n=ce(e,"mode",3,"grid"),c=ce(e,"isAnchor",3,!1);function o(w){return w.variant==="fallback"}function d(w){return w.sources.find(o)}function P(w){return w.variant==="detail"}function O(w){return w.sources.find(P)??w.sources[0]}function A(w){return w.variant==="admin_thumb"}function re(w){return w.sources.find(A)}function ue(w){return ea(w.id)?!0:w.aspectRatio?!w.aspectRatio.startsWith("landscape"):!1}function E(w,D){L.editMode&&(D instanceof KeyboardEvent&&D.key!=="Enter"&&D.key!==" "||(D.preventDefault(),e.onSelect?e.onSelect(e.item,D.shiftKey):L.toggleSelection(w)))}let y=R(()=>L.selection.has(e.item.id)),S=R(()=>nt.isCurationVisualsVisible(!!e.curationGroup,n())),$=R(()=>d(e.item)??e.item.sources[0]),le=R(()=>O(e.item)),X=R(()=>re(e.item));function F(w){!nt.curationMode||!e.curationGroup||(w.stopPropagation(),w.preventDefault(),e.onOpenCurationDialog?.(e.curationGroup))}function C(w){w.stopPropagation(),w.preventDefault(),e.onDelete?.(e.item)}async function U(){try{const w=$n(e.item);await navigator.clipboard.writeText(w),we.success(ot.METADATA_CLIPBOARD_SUCCESS)}catch{we.error(ot.UNKNOWN_ERROR)}}let p=R(()=>L.showMetadataOverlay||dt.url.searchParams.has("overlay")&&dt.url.searchParams.get("overlay")!=="false");var J=M(),Y=u(J);G(Y,()=>qn,(w,D)=>{D(w,{children:(I,N)=>{var Q=Oo(),j=u(Q);{let ee=R(()=>je("group relative block rounded-lg text-left",n()==="curation"?"flex w-64 flex-col rounded border bg-white p-2 shadow-sm transition-shadow hover:shadow-md dark:bg-slate-800":"")),te=R(()=>`photo-grid-item-container-${e.item.id}`),Z=R(()=>!L.editMode&&!(nt.curationMode&&e.curationGroup));G(j,()=>Fn,(ne,be)=>{be(ne,{get class(){return t(ee)},get"data-testid"(){return t(te)},get disabled(){return t(Z)},children:(me,Ee)=>{var Ce=_o(),qe=u(Ce);Ka(qe,()=>L.editMode?"div":"a",!1,(h,m)=>{We(h,()=>({href:L.editMode||t(S)?void 0:t(le)?.path,"data-fancybox":L.editMode||t(S)?void 0:"gallery","data-caption":L.editMode||t(S)?void 0:e.item.alt,"data-image-id":e.item.id,"data-media-type":e.item.type,class:"group relative block rounded-lg text-left","data-testid":"photo-grid-item"}));var T=go(),v=u(T);v.__click=q=>L.editMode?E(e.item.id,q):void 0;var k=_(v);{var b=q=>{var ae=eo();Ot(ae,(_e,Me)=>Ht?.(_e,Me),()=>({id:e.scrollspyId})),K(()=>{fe(ae,"id",c()?e.scrollspyId:void 0),fe(ae,"data-testid",`photo-grid-item-scrollspy-anchor-${e.scrollspyId??""}`)}),r(q,ae)};z(k,q=>{e.scrollspyId&&q(b)})}var V=x(k,2);{var Ve=q=>{var ae=ao(),_e=_(ae);et(_e,17,()=>Qa(e.item),Oe=>Oe.type,(Oe,$e)=>{var Te=to();K(()=>{fe(Te,"type",t($e).type),fe(Te,"srcset",t($e).srcset)}),r(Oe,Te)});var Me=x(_e,2);g(ae),K(()=>{Ye(ae,1,`${nt.debugMode?"shrink-0":""}`),fe(Me,"src",t($)?.path??""),fe(Me,"alt",e.item.alt),fe(Me,"width",t($).width),fe(Me,"height",t($).height),fe(Me,"data-testid",`photo-grid-item-image-${e.item.id??""}`)}),r(q,ae)},Ke=q=>{var ae=ro();K(()=>{fe(ae,"src",t(X)?.path??e.item.adminThumbUrl),fe(ae,"alt",e.item.alt),fe(ae,"width",e.item.width),fe(ae,"height",e.item.height),fe(ae,"data-testid",`photo-grid-item-image-edit-mode-${e.item.id??""}`)}),r(q,ae)};z(V,q=>{L.editMode?q(Ke,!1):q(Ve)})}g(v);var Le=x(v,2);{var tt=q=>{var ae=so(),_e=_(ae);z(_e,Te=>{});var Me=x(_e,2);z(Me,Te=>{});var Oe=x(Me,2);{var $e=Te=>{var Je=oo(),He=x(u(Je),2);{var ut=lt=>{var st=no();r(lt,st)};z(He,lt=>{e.item.id===e.curationGroup?.bestCandidateId&&lt(ut)})}r(Te,Je)};z(Oe,Te=>{t(S)&&Te($e)})}g(ae),r(q,ae)};z(Le,q=>{(t(S)||Ja)&&q(tt)})}var Be=x(Le,2);{var Ze=q=>{{let ae=R(()=>ea(e.item.id));wn(q,{get aspectRatio(){return e.item.aspectRatio},get isCollage(){return t(ae)}})}};z(Be,q=>{ue(e.item)&&q(Ze)})}var Pe=x(Be,2);{var ke=q=>{Rn(q,{get info(){return e.item.sequenceInfo}})};z(Pe,q=>{e.item.type==="sequence"&&e.item.sequenceInfo&&q(ke)})}var De=x(Pe,2);{var Ne=q=>{var ae=vo();ae.__click=Te=>L.editMode?E(e.item.id,Te):void 0;var _e=_(ae);{var Me=Te=>{var Je=lo(),He=_(Je),ut=_(He);{var lt=st=>{var kt=io();K(()=>fe(kt,"data-testid",`photo-grid-item-selection-indicator-${e.item.id}`)),r(st,kt)};z(ut,st=>{t(y)&&st(lt)})}g(He),g(Je),K(()=>{Ye(He,1,`h-6 w-6 rounded border border-white ${t(y)?"bg-blue-500":"bg-black/50"} flex shrink-0 items-center justify-center`),fe(He,"data-testid",`photo-grid-item-checkbox-${e.item.id??""}`)}),r(Te,Je)};z(_e,Te=>{L.editMode&&Te(Me)})}var Oe=x(_e,2);{var $e=Te=>{var Je=uo(),He=_(Je);Xe(He,{variant:"secondary",class:"pointer-events-auto shadow-lg",onclick:F,children:(ut,lt)=>{var st=co(),kt=u(st);Wt(kt,{class:"mr-2 size-4"}),xe(),r(ut,st)},$$slots:{default:!0}}),g(Je),r(Te,Je)};z(Oe,Te=>{t(S)&&Te($e)})}g(ae),K(Te=>{Ye(ae,1,Te),fe(ae,"data-testid",`photo-grid-item-overlay-${e.item.id}`)},[()=>rt(je("absolute inset-0 cursor-pointer transition-colors",L.editMode?"aspect-square":"aspect-[3/2]",t(y)?"bg-blue-500/20":"hover:bg-black/20",t(S)&&"bg-amber-500/10 hover:bg-amber-500/20",!L.editMode&&nt.curationMode&&e.curationGroup?"":"bg-black/10"))]),r(q,ae)},he=q=>{var ae=fo();r(q,ae)};z(De,q=>{L.editMode||t(S)?q(Ne):q(he,!1)})}K(q=>{fe(v,"data-label",e.item?.caption??e.item?.location??""),fe(v,"id",e.item.id),fe(v,"data-testid",`photo-grid-item-figure-${e.item.id??""}`),Ye(v,1,q),zt(v,`background-color: ${e.item.placeholderColor}`)},[()=>rt(je("outline-background relative overflow-hidden rounded-lg border-2 border-transparent bg-cover bg-center transition-[outline-color,border-color] duration-300 ease-in-out",L.editMode?"aspect-square":"aspect-[3/2]",t(y)?"ring-2 ring-blue-300 outline-4 outline-blue-500":"outline-4 outline-offset-2 hover:outline-orange-100",t(S)&&"border-amber-500 outline-2 outline-amber-500/50",nt.debugMode&&"flex flex-col"))]),r(m,T)});var Ae=x(qe,2);i(Ae,()=>({item:e.item}));var ge=x(Ae,2);{var H=h=>{var m=mo(),T=_(m);Ut(T,{get data(){return e.item}}),g(m),r(h,m)};z(ge,h=>{nt.debugMode&&h(H)})}var ie=x(ge,2);{var l=h=>{var m=ho(),T=u(m);Un(T,()=>({item:e.item}));var v=x(T,2);a(v),r(h,m)};z(ie,h=>{n()==="curation"&&h(l)})}r(me,Ce)},$$slots:{default:!0}})})}var de=x(j,2);{var W=ee=>{var te=M(),Z=u(te);G(Z,()=>ha,(ne,be)=>{be(ne,{children:(me,Ee)=>{var Ce=M(),qe=u(Ce);G(qe,()=>Ln,(Ae,ge)=>{ge(Ae,{class:"w-56",children:(H,ie)=>{var l=zo(),h=u(l);G(h,()=>at,(Pe,ke)=>{ke(Pe,{class:"flex items-center gap-2",onclick:()=>e.onCopyMetadata?.(e.item),"data-testid":"photo-grid-item-contextmenu-copy-metadata",children:(De,Ne)=>{var he=po(),q=u(he);Et(q,{class:"h-4 w-4"}),xe(2),r(De,he)},$$slots:{default:!0}})});var m=x(h,2);G(m,()=>at,(Pe,ke)=>{ke(Pe,{class:"flex items-center gap-2",onclick:U,"data-testid":"photo-grid-item-contextmenu-copy-to-clipboard",children:(De,Ne)=>{var he=yo(),q=u(he);Et(q,{class:"h-4 w-4"}),xe(2),r(De,he)},$$slots:{default:!0}})});var T=x(m,2);{var v=Pe=>{var ke=M(),De=u(ke);{var Ne=q=>{var ae=Po(),_e=u(ae);G(_e,()=>at,(Oe,$e)=>{$e(Oe,{class:"flex items-center gap-2",onclick:()=>e.onPasteMetadata?.(e.item),"data-testid":"photo-grid-item-contextmenu-paste-metadata-selection",children:(Te,Je)=>{var He=bo(),ut=_(He);Et(ut,{class:"h-4 w-4 rotate-180"});var lt=x(ut,2),st=_(lt);g(lt),g(He),K(()=>ve(st,`Vlo≈æit na ${L.selection.size??""} vybran√Ωch`)),r(Te,He)},$$slots:{default:!0}})});var Me=x(_e,2);G(Me,()=>at,(Oe,$e)=>{$e(Oe,{class:"flex items-center gap-2",onclick:()=>e.onPasteMetadata?.(e.item,!0),"data-testid":"photo-grid-item-contextmenu-paste-metadata-single",children:(Te,Je)=>{var He=xo();r(Te,He)},$$slots:{default:!0}})}),r(q,ae)},he=q=>{var ae=M(),_e=u(ae);G(_e,()=>at,(Me,Oe)=>{Oe(Me,{class:"flex items-center gap-2",onclick:()=>e.onPasteMetadata?.(e.item),"data-testid":"photo-grid-item-contextmenu-paste-metadata",children:($e,Te)=>{var Je=wo(),He=u(Je);Et(He,{class:"h-4 w-4 rotate-180"}),xe(2),r($e,Je)},$$slots:{default:!0}})}),r(q,ae)};z(De,q=>{L.selection.has(e.item.id)&&L.selection.size>1?q(Ne):q(he,!1)})}r(Pe,ke)};z(T,Pe=>{mt.sourceImage?.id!==e.item.id&&mt.data&&Pe(v)})}var k=x(T,2);G(k,()=>Ft,(Pe,ke)=>{ke(Pe,{})});var b=x(k,2);{var V=Pe=>{var ke=ko(),De=u(ke);G(De,()=>at,(he,q)=>{q(he,{class:"flex items-center gap-2",onclick:()=>e.onResetReleaseDate?.(e.item),"data-testid":"photo-grid-item-contextmenu-reset-releasedate-selection",children:(ae,_e)=>{var Me=Io(),Oe=_(Me);Gt(Oe,{class:"h-4 w-4"});var $e=x(Oe,2),Te=_($e);g($e),g(Me),K(()=>ve(Te,`Resetovat datum ≈ôazen√≠ (${L.selection.size??""}√ó)`)),r(ae,Me)},$$slots:{default:!0}})});var Ne=x(De,2);G(Ne,()=>at,(he,q)=>{q(he,{class:"flex items-center gap-2",onclick:()=>e.onResetReleaseDate?.(e.item,!0),"data-testid":"photo-grid-item-contextmenu-reset-releasedate-single",children:(ae,_e)=>{var Me=So();r(ae,Me)},$$slots:{default:!0}})}),r(Pe,ke)},Ve=Pe=>{var ke=M(),De=u(ke);G(De,()=>at,(Ne,he)=>{he(Ne,{class:"flex items-center gap-2",onclick:()=>e.onResetReleaseDate?.(e.item),"data-testid":"photo-grid-item-contextmenu-reset-releasedate",children:(q,ae)=>{var _e=Eo(),Me=u(_e);Gt(Me,{class:"h-4 w-4"}),xe(2),r(q,_e)},$$slots:{default:!0}})}),r(Pe,ke)};z(b,Pe=>{L.selection.has(e.item.id)&&L.selection.size>1?Pe(V):Pe(Ve,!1)})}var Ke=x(b,2);{var Le=Pe=>{var ke=Co(),De=u(ke);G(De,()=>Ft,(q,ae)=>{ae(q,{})});var Ne=x(De,2);G(Ne,()=>at,(q,ae)=>{ae(q,{class:"flex items-center gap-2",onclick:()=>e.onSwapTimes?.(),"data-testid":"photo-grid-item-contextmenu-swap-times",children:(_e,Me)=>{var Oe=Mo(),$e=u(Oe);Wt($e,{class:"h-4 w-4"}),xe(2),r(_e,Oe)},$$slots:{default:!0}})});var he=x(Ne,2);G(he,()=>at,(q,ae)=>{ae(q,{class:"flex items-center gap-2",onclick:()=>e.onRedistributeTimes?.(),"data-testid":"photo-grid-item-contextmenu-redistribute-times",children:(_e,Me)=>{var Oe=To(),$e=u(Oe);kr($e,{class:"h-4 w-4"}),xe(2),r(_e,Oe)},$$slots:{default:!0}})}),r(Pe,ke)};z(Ke,Pe=>{L.selection.size>=2&&L.selection.has(e.item.id)&&Pe(Le)})}var tt=x(Ke,2);G(tt,()=>Ft,(Pe,ke)=>{ke(Pe,{})});var Be=x(tt,2);G(Be,()=>at,(Pe,ke)=>{ke(Pe,{class:"flex items-center gap-2 text-red-600 focus:bg-red-50 focus:text-red-600 dark:focus:bg-red-950",onclick:()=>e.onDelete?.(e.item),"data-testid":"photo-grid-item-contextmenu-delete-image",children:(De,Ne)=>{var he=Ao(),q=u(he);Qt(q,{class:"h-4 w-4"}),xe(2),r(De,he)},$$slots:{default:!0}})});var Ze=x(Be,2);G(Ze,()=>at,(Pe,ke)=>{ke(Pe,{class:"flex items-center gap-2",onclick:()=>e.onArchive?.(e.item),"data-testid":"photo-grid-item-contextmenu-archive-image",children:(De,Ne)=>{var he=Do(),q=u(he);Zt(q,{class:"h-4 w-4"}),xe(2),r(De,he)},$$slots:{default:!0}})}),r(H,l)},$$slots:{default:!0}})}),r(me,Ce)},$$slots:{default:!0}})}),r(ee,te)};z(de,ee=>{L.editMode&&ee(W)})}r(I,Q)},$$slots:{default:!0}})}),r(s,J),se()}Nt(["click"]);var No=f('<div><div class="mb-4 flex items-center justify-between border-b border-slate-200 pb-2 dark:border-slate-800"><h3 class="flex items-center gap-2 text-lg font-bold"><span class="text-amber-600 dark:text-amber-500">≈òe≈°en√≠ duplicit</span> <span class="text-muted-foreground rounded border bg-white px-2 py-0.5 font-mono text-xs dark:bg-slate-800"> </span></h3> <div class="text-muted-foreground text-sm"> </div></div> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"></div></div>');function _a(s,e){oe(e,!0);var a=No(),i=_(a),n=_(i),c=x(_(n),2),o=_(c,!0);g(c),g(n);var d=x(n,2),P=_(d);g(d),g(i);var O=x(i,2);et(O,21,()=>e.items,A=>A.id,(A,re)=>{Vt(A,{get item(){return t(re)},mode:"curation",get curationGroup(){return e.group},get onDelete(){return e.onDelete},get onArchive(){return e.onArchive},get onCopyMetadata(){return e.onCopyMetadata},get onSelect(){return e.onSelect}})}),g(O),g(a),K((A,re,ue)=>{Ye(a,1,A),fe(a,"data-testid",`curation-group-${e.group.id??""}`),ve(o,re),ve(P,`Podobnost: ${ue??""}%`)},[()=>rt(je("col-span-full my-8 rounded-xl border bg-slate-100 p-4 shadow-inner dark:bg-yellow-900/50",e.class)),()=>e.group.id.slice(0,8),()=>Math.round((e.group.similarity??0)*100)]),r(s,a),se()}var Ro=f("<!> <!>",1);function qo(s,e){oe(e,!0);let a=ce(e,"open",15,!1),i=R(()=>e.group?e.group.items.map(o=>Wa(o)).filter(o=>!!o):[]);var n=M(),c=u(n);G(c,()=>St,(o,d)=>{d(o,{get open(){return a()},set open(P){a(P)},children:(P,O)=>{var A=M(),re=u(A);G(re,()=>Pt,(ue,E)=>{E(ue,{class:"max-h-[90vh] max-w-[90vw] overflow-y-auto md:max-w-screen-xl","data-testid":"curation-group-dialog-content",children:(y,S)=>{var $=Ro(),le=u($);G(le,()=>wt,(C,U)=>{U(C,{children:(p,J)=>{var Y=M(),w=u(Y);G(w,()=>It,(D,I)=>{I(D,{children:(N,Q)=>{xe();var j=Fe("Porovn√°n√≠ duplicit");r(N,j)},$$slots:{default:!0}})}),r(p,Y)},$$slots:{default:!0}})});var X=x(le,2);{var F=C=>{_a(C,{get group(){return e.group},get items(){return t(i)},class:"my-0 border-0 bg-transparent p-0 shadow-none dark:bg-transparent",get onDelete(){return e.onDelete},get onArchive(){return e.onArchive},get onCopyMetadata(){return e.onCopyMetadata},get onSelect(){return e.onSelect}})};z(X,C=>{e.group&&t(i).length>0&&C(F)})}r(y,$)},$$slots:{default:!0}})}),r(P,A)},$$slots:{default:!0}})}),r(s,n),se()}var Lo=f("<!> <!>",1),Fo=f('<li class="flex items-center gap-3 text-sm"><img class="bg-muted h-20 w-20 rounded object-cover"/> <span class="font-mono text-xs"> </span></li>'),jo=f("<!> <!>",1),Go=f('<!> <div class="my-4 max-h-75 overflow-y-auto rounded border p-2"><ul class="space-y-2"></ul></div> <!>',1);function $o(s,e){oe(e,!0);let a=ce(e,"open",15,!1),i=ce(e,"isDeleting",3,!1);var n=M(),c=u(n);G(c,()=>St,(o,d)=>{d(o,{get open(){return a()},set open(P){a(P)},children:(P,O)=>{var A=M(),re=u(A);G(re,()=>Pt,(ue,E)=>{E(ue,{"data-testid":"delete-image-dialog-content",children:(y,S)=>{var $=Go(),le=u($);G(le,()=>wt,(U,p)=>{p(U,{children:(J,Y)=>{var w=Lo(),D=u(w);G(D,()=>It,(N,Q)=>{Q(N,{children:(j,de)=>{xe();var W=Fe("Opravdu smazat?");r(j,W)},$$slots:{default:!0}})});var I=x(D,2);G(I,()=>Rt,(N,Q)=>{Q(N,{children:(j,de)=>{xe();var W=Fe("Tato akce je nevratn√°. N√°sleduj√≠c√≠ soubory budou trvale smaz√°ny z disku:");r(j,W)},$$slots:{default:!0}})}),r(J,w)},$$slots:{default:!0}})});var X=x(le,2),F=_(X);et(F,21,()=>e.images,ct,(U,p)=>{var J=Fo(),Y=_(J),w=x(Y,2),D=_(w,!0);g(w),g(J),K((I,N)=>{fe(Y,"src",I),fe(Y,"alt",t(p).alt),ve(D,N)},[()=>t(p).sources.find(I=>I.variant==="fallback")?.path,()=>t(p).src.split("/").pop()]),r(U,J)}),g(F),g(X);var C=x(X,2);G(C,()=>Bt,(U,p)=>{p(U,{children:(J,Y)=>{var w=jo(),D=u(w);Xe(D,{variant:"outline",type:"button",onclick:()=>a(!1),"data-testid":"delete-image-dialog-cancel",children:(N,Q)=>{xe();var j=Fe("Zru≈°it");r(N,j)},$$slots:{default:!0}});var I=x(D,2);Xe(I,{variant:"destructive",type:"button",get onclick(){return e.onConfirm},get disabled(){return i()},"data-testid":"delete-image-dialog-confirm",children:(N,Q)=>{xe();var j=Fe();K(()=>ve(j,i()?"Maz√°n√≠...":"Potvrdit smaz√°n√≠")),r(N,j)},$$slots:{default:!0}}),r(J,w)},$$slots:{default:!0}})}),r(y,$)},$$slots:{default:!0}})}),r(P,A)},$$slots:{default:!0}})}),r(s,n),se()}var Uo=f('<div class="mt-4 flex flex-wrap justify-center gap-2"><button>Rovnomƒõrnƒõ rozprost≈ô√≠t</button> <button>Resetovat lokaci</button></div>'),Vo=f('<span class="text-muted-foreground"></span>'),Bo=f('<tr><th class="text-muted-foreground min-w-16 px-1 py-1 text-left align-baseline font-medium"> </th><td><!></td></tr>'),Yo=f('<div data-testid="photo-grid-separator-metadata-container"><table class="mt-2 w-full rounded-md bg-slate-50 text-xs dark:bg-slate-950" data-testid="photo-grid-separator-metadata-table"><tbody></tbody></table></div>'),Ho=f('<div class="pointer-events-none absolute h-0 w-0" aria-hidden="true"></div>'),Ko=f('<p class="text-muted-foreground text-sm" data-testid="photo-grid-separator-city"> </p>'),Jo=f('<h3 class="text-lg" data-testid="photo-grid-separator-location"> </h3> <!> <span data-testid="photo-grid-separator-show-story">Zobrazit p≈ô√≠bƒõh</span> <!>',1),Qo=f("<!> <!>",1),Zo=f('<!> <div class="prose prose-sm dark:prose-invert mt-4 max-h-[80vh] max-w-none overflow-hidden pr-4"><!></div>',1),Wo=f("<!> <!>",1),Xo=f("<div><!> <!></div>"),es=f('<p class="text-muted-foreground mt-1 text-sm"> </p>'),ts=f('<div><h3 class="text-lg" data-testid="photo-grid-separator-location"> </h3> <!> <!></div> <!>',1),as=f("<div><!></div>");function rs(s,e){oe(e,!0);const a=y=>{var S=M(),$=u(S);{var le=X=>{var F=Uo(),C=_(F);C.__click=P;var U=x(C,2);U.__click=O,g(F),K((p,J)=>{Ye(C,1,p),Ye(U,1,J)},[()=>rt(je(Lt({variant:"outline",size:"sm"}),"bg-background/50 backdrop-blur-sm")),()=>rt(je(Lt({variant:"ghost",size:"sm"}),"text-muted-foreground hover:text-destructive"))]),r(X,F)};z($,X=>{L.reorderMode&&e.dayId&&X(le)})}r(y,S)},i=y=>{const S=R(()=>[{label:"ID",value:e.item.id,isTechnical:!0},{label:"Start",value:e.item.startDate?_t(e.item.startDate):void 0},{label:"End",value:e.item.endDate?_t(e.item.endDate):void 0},{label:"Location",value:e.item.location},{label:"City",value:e.item.city},{label:"Title",value:e.item.storyTitle}]);var $=M(),le=u($);{var X=F=>{var C=Yo(),U=_(C),p=_(U);et(p,21,()=>t(S),ct,(J,Y,w)=>{var D=Bo(),I=_(D),N=_(I,!0);g(I);var Q=x(I),j=_(Q);{var de=ee=>{var te=M(),Z=u(te);jt(Z,()=>t(Y).value),r(ee,te)},W=ee=>{var te=Vo();r(ee,te)};z(j,ee=>{t(Y).value?ee(de):ee(W,!1)})}g(Q),g(D),K((ee,te)=>{Ye(D,1,rt(w<t(S).length-1?"border-b border-slate-400 dark:border-slate-700":"")),fe(D,"data-testid",`photo-grid-separator-metadata-row-${ee??""}`),ve(N,t(Y).label),Ye(Q,1,te)},[()=>t(Y).label.toLowerCase().replace(/\s+/g,"-"),()=>rt(je("w-full max-w-full min-w-0 py-1 text-left font-mono",t(Y).label==="ID"?"break-all":"line-clamp-3 whitespace-pre-line",t(Y).isTechnical&&"text-muted-foreground"))]),r(J,D)}),g(p),g(U),g(C),r(F,C)};z(le,F=>{t(o)&&F(X)})}r(y,$)};let n=ce(e,"showMetadataOverlay",3,!1),c=ce(e,"isEmpty",3,!1),o=R(()=>n()||L.showMetadataOverlay||dt.url.searchParams.has("overlay")&&dt.url.searchParams.get("overlay")!=="false"),d=R(()=>e.item.id);async function P(y){if(y.stopPropagation(),!!confirm(`Opravdu chcete rovnomƒõrnƒõ p≈ôerozdƒõlit fotky v lokalitƒõ "${e.item.location}"?`))try{const $=await(await ft("/api/images/redistribute",{method:"POST",body:JSON.stringify({dayId:e.dayId,location:e.item.location})})).json();$.success?(we.success(`P≈ôerozdƒõleno ${$.redistributed} fotek`,{duration:4e3}),it()):we.error($.error||"Chyba p≈ôi p≈ôerozdƒõlov√°n√≠")}catch{we.error("Chyba p≈ôi komunikaci se serverem")}}async function O(y){if(y.stopPropagation(),!!confirm(`Opravdu chcete vr√°tit fotky v lokalitƒõ "${e.item.location}" do p≈Øvodn√≠ho po≈ôad√≠?`))try{(await(await ft("/api/images/reorder",{method:"DELETE",body:JSON.stringify({dayId:e.dayId,location:e.item.location})})).json()).success?(we.success("Lokace resetov√°na"),it()):we.error("Chyba p≈ôi resetov√°n√≠")}catch{we.error("Chyba p≈ôi komunikaci se serverem")}}var A=M(),re=u(A);{var ue=y=>{var S=Ho();K(()=>fe(S,"id",t(d))),r(y,S)},E=y=>{var S=as(),$=_(S);{var le=F=>{var C=Xo(),U=_(C);G(U,()=>St,(J,Y)=>{Y(J,{children:(w,D)=>{var I=Wo(),N=u(I);{let j=R(()=>je("flex w-full flex-col items-center justify-center overflow-hidden rounded-lg bg-linear-to-br from-slate-100 to-slate-300 p-4 text-center dark:from-slate-700 dark:to-slate-800",L.editMode?"dark:from-pink-700 dark:to-pink-800":"aspect-[3/2]"));G(N,()=>mr,(de,W)=>{W(de,{get class(){return t(j)},get"data-testid"(){return`photo-grid-separator-trigger-${t(d)??""}`},children:(ee,te)=>{var Z=Jo(),ne=u(Z),be=_(ne,!0);g(ne);var me=x(ne,2);{var Ee=Ae=>{var ge=Ko(),H=_(ge,!0);g(ge),K(()=>ve(H,e.item.city)),r(Ae,ge)};z(me,Ae=>{e.item.city&&Ae(Ee)})}var Ce=x(me,2),qe=x(Ce,2);a(qe),K(Ae=>{ve(be,e.item.location),Ye(Ce,1,Ae)},[()=>rt(Lt({size:"sm",variant:"link",class:"mt-2 text-sm"}))]),r(ee,Z)},$$slots:{default:!0}})})}var Q=x(N,2);G(Q,()=>Pt,(j,de)=>{de(j,{children:(W,ee)=>{var te=Zo(),Z=u(te);G(Z,()=>wt,(me,Ee)=>{Ee(me,{children:(Ce,qe)=>{var Ae=Qo(),ge=u(Ae);G(ge,()=>It,(l,h)=>{h(l,{children:(m,T)=>{xe();var v=Fe();K(()=>ve(v,e.item.storyTitle||e.item.location)),r(m,v)},$$slots:{default:!0}})});var H=x(ge,2);{var ie=l=>{var h=M(),m=u(h);G(m,()=>Rt,(T,v)=>{v(T,{children:(k,b)=>{xe();var V=Fe();K(()=>ve(V,e.item.city)),r(k,V)},$$slots:{default:!0}})}),r(l,h)};z(H,l=>{e.item.city&&l(ie)})}r(Ce,Ae)},$$slots:{default:!0}})});var ne=x(Z,2),be=_(ne);jt(be,()=>e.item.story),g(ne),K(()=>fe(ne,"data-testid",`photo-grid-separator-story-${t(d)??""}`)),r(W,te)},$$slots:{default:!0}})}),r(w,I)},$$slots:{default:!0}})});var p=x(U,2);i(p),g(C),r(F,C)},X=F=>{var C=ts(),U=u(C),p=_(U),J=_(p,!0);g(p);var Y=x(p,2);{var w=N=>{var Q=es(),j=_(Q,!0);g(Q),K(()=>ve(j,e.item.city)),r(N,Q)};z(Y,N=>{e.item.city&&N(w)})}var D=x(Y,2);a(D),g(U);var I=x(U,2);i(I),K(N=>{Ye(U,1,N),fe(U,"data-testid",`photo-grid-separator-simple-${t(d)??""}`),ve(J,e.item.location)},[()=>rt(je("flex w-full flex-col items-center justify-center overflow-hidden rounded-lg bg-linear-to-br from-slate-100 to-slate-300 p-4 text-center dark:from-slate-700 dark:to-slate-800",L.editMode?"dark:from-pink-700 dark:to-pink-800":"aspect-[3/2]"))]),r(F,C)};z($,F=>{e.item.story?F(le):F(X,!1)})}g(S),Ot(S,(F,C)=>Ht?.(F,C),()=>({id:t(d)})),K(F=>{fe(S,"id",t(d)),Ye(S,1,F)},[()=>rt(je("flex flex-col",L.editMode?"col-span-full py-12":"aspect-[3/2]"))]),r(y,S)};z(re,y=>{c()||!Ue.showSeparators?y(ue):y(E,!1)})}r(s,A),se()}Nt(["click"]);async function sa(s){const{action:e,images:a,onStart:i,onFinish:n,onSuccess:c,onError:o}=s;if(a.length!==0){i&&i();try{const d=e==="delete",A=await ft("/api/images",{method:d?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d?{ids:a}:{action:e,ids:a})});if(!A.ok){const y=await A.json();throw new Error(y.message||`Chyba p≈ôi operaci: ${e}`)}const re=await A.json();re.errors&&re.errors.length>0&&re.errors.forEach(function(y){we.warning(y)});const E=((d?re.deleted:re.archived)||[]).length;if(E>0){const y=d?"smaz√°no":"archivov√°no";we.success(ot.actionSuccess(y,E))}c&&c(re),await it()}catch(d){const P=d instanceof Error?d:new Error(String(d));we.error(`Nepoda≈ôilo se prov√©st akci ${e}: ${P.message}`),o&&o(P)}finally{n&&n()}}}const ht=ua("reorder-utils");async function ia(s){try{const e=await ft("/api/images/reorder",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok){const n=(await e.json()).message||"Failed to save order";return ht.error({status:e.status,error:n},"Reorder API error"),{success:!1,error:n}}const a=await e.json();return ht.info({updatedCount:a.updated,dayId:s.dayId},"Saved order for images"),await it(),{success:!0}}catch(e){const a=e instanceof Error?e.message:String(e);return ht.error({err:e},"Failed to save image order"),{success:!1,error:a}}}async function ns(s,e){try{const a=await ft("/api/images/reorder",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({dayId:s,contentDir:e})});if(!a.ok){const c=(await a.json()).message||"Failed to clear order";return ht.error({status:a.status,error:c},"Clear order API error"),{success:!1,error:c}}const i=await a.json();return ht.info({clearedCount:i.cleared,dayId:s},"Cleared order for images"),await it(),{success:!0}}catch(a){const i=a instanceof Error?a.message:String(a);return ht.error({err:a},"Failed to clear image order"),{success:!1,error:i}}}function os(s,e,a){const i=[...s],[n]=i.splice(e,1);return i.splice(a,0,n),i}function ss(s,e,a){const[i,n]=[Math.min(e,a),Math.max(e,a)];return s.slice(i,n+1)}function la(s,e){return s.findIndex(a=>a.id===e)}var is=f('<div draggable="true" role="listitem"><!></div>'),ls=f("<!> <!> <!> <!> <!>",1);function ds(s,e){oe(e,!0);const a=ua("PhotoGrid");let i=R(()=>(dt.data.photoDays||[]).flatMap(l=>l.items)),n=R(()=>{const l=new Map;let h="";for(const m of e.items)m.type==="separator"?h=m.id:(m.type==="image"||m.type==="collage"||m.type==="panorama"||m.type==="sequence")&&m.location&&m.location!=="Unknown"&&l.set(m.id,h||`loc-${er(m.location)}`);return l}),c=R(()=>{const l=new Set;for(let h=0;h<e.items.length;h++){const m=e.items[h];if(m.type==="separator"){let T=0;for(let k=h+1;k<e.items.length;k++){const b=e.items[k];if(b.type==="separator")break;b.location===m.location&&T++}const v=!!m.story;T>0&&(T>2||v)&&l.add(m)}}return l}),o=R(()=>{const l=new Map;let h="",m=!1;for(const T of e.items)T.type==="separator"?(h=T.location,m=!0):(T.type==="image"||T.type==="collage"||T.type==="panorama"||T.type==="sequence")&&T.location&&T.location!=="Unknown"&&T.location!==h&&(m||l.set(T.id,!0),h=T.location,m=!1);return l}),d=R(()=>{const l=new Map;if(!e.curationManifest?.groups)return l;for(const h of e.curationManifest.groups)for(const m of h.items)l.set(m,h);return l}),P=ze(null),O=ze(null),A=R(()=>e.items.filter(l=>l.type==="image"||l.type==="sequence"||l.type==="panorama"||l.type==="collage"));async function re(l){if(!t(P)||t(P)===l||!e.dayId)return;const h=t(A).map(V=>V.id),m=t(A).findIndex(V=>V.id===t(P)),T=t(A).findIndex(V=>V.id===l);if(m===-1||T===-1)return;const k=os(t(A),m,T).map(V=>V.id),b=await ia({dayId:e.dayId,imageIds:k});b.success?we.success("Po≈ôad√≠ ulo≈æeno",{action:{label:"Vr√°tit zpƒõt",onClick:async()=>{(await ia({dayId:e.dayId,imageIds:h})).success?we.success("Vr√°ceno zpƒõt"):we.error("Nepoda≈ôilo se vr√°tit zmƒõny")}},duration:8e3}):we.error(b.error||"Nepoda≈ôilo se ulo≈æit po≈ôad√≠"),B(P,null),B(O,null)}let ue=ze(!1),E=ze(!1),y=ze(Tt([])),S=ze(!1),$=ze(Tt([])),le=ze(!1),X=ze(!1),F=ze(!1),C=ze(Tt([])),U=ze(!1),p=ze(null);function J(l){B(p,l??null,!0),B(U,!0)}function Y(l){B(y,[l],!0),B(E,!0)}async function w(){t(ue)||await sa({action:"delete",images:t(y).map(function(l){return{id:l.id,src:l.src}}),onStart(){B(ue,!0)},onFinish(){B(ue,!1)},onSuccess(l){B(E,!1),B(y,[],!0);const h=new Set(l.deleted);if(L.selection.size>0)for(const m of h)L.selection.has(m)&&L.removeSelection(m)}})}function D(l){L.selection.has(l.id)&&L.selection.size>1?B(C,e.items.filter(h=>(h.type==="image"||h.type==="sequence"||h.type==="panorama"||h.type==="collage")&&L.selection.has(h.id)),!0):B(C,[l],!0),B(F,!0)}async function I(){t(X)||await sa({action:"archive",images:t(C).map(function(l){return{id:l.id,src:l.src}}),onStart(){B(X,!0)},onFinish(){B(X,!1)},onSuccess(l){B(F,!1),B(C,[],!0);const h=new Set(l.archived);if(L.selection.size>0)for(const m of h)L.selection.has(m)&&L.removeSelection(m)}})}function N(l){mt.copy(l),we.success(ot.metadataCopied(l.src.split("/").pop()||""))}function Q(l,h=!1){const m=mt;if(!h&&L.selection.has(l.id)&&L.selection.size>1){const T=t(i).filter(v=>(v.type==="image"||v.type==="sequence"||v.type==="sequence-member"||v.type==="panorama"||v.type==="collage")&&L.selection.has(v.id));a.debug({itemId:l.id,selectionSize:L.selection.size,sourceId:m.sourceImage?.id,selectedIds:T.map(v=>v.id)},"Paste Logic"),B($,T.filter(v=>v.id!==m.sourceImage?.id),!0),a.debug({pasteTargetIds:t($).map(v=>v.id)},"pasteTargets")}else{if(a.debug({itemId:l.id},"Single Paste"),m.sourceImage?.id===l.id){we.error(ot.PASTE_TO_SELF);return}if(l.sequenceInfo&&!h){const T=l.sequenceInfo.baseId,v=t(i).filter(k=>(k.type==="image"||k.type==="sequence"||k.type==="sequence-member"||k.type==="panorama"||k.type==="collage")&&k.sequenceInfo?.baseId===T);B($,v.filter(k=>k.id!==m.sourceImage?.id),!0),a.debug({expandedIds:t($).map(k=>k.id)},"Expanded sequence paste targets")}else B($,[l],!0)}B(S,!0)}async function j(l,h=[]){const m=mt;if(!m.data||t($).length===0)return;const T=t($).filter(b=>!h.includes(b.id));if(h.length>0&&L.selection.size>0&&h.forEach(b=>{L.selection.has(b)&&L.toggleSelection(b)}),T.length===0){we.info(ot.NO_IMAGES_TO_EDIT),B(S,!1);return}B(le,!0);const k=(async()=>{const b=m.data;if(!b)return;const V={images:T.map(Ke=>({id:Ke.id,src:Ke.src})),updates:{title:l.title&&b.title?b.title:void 0,author:l.author&&b.author?b.author:void 0,location:l.location&&b.location?b.location:void 0,city:l.city&&b.city?b.city:void 0,state:l.state&&b.state?b.state:void 0,country:l.country&&b.country?b.country:void 0,countryCode:l.countryCode&&b.countryCode?b.countryCode:void 0,caption:l.caption&&b.caption?b.caption:void 0,keywords:l.keywords&&b.keywords?.length?b.keywords:void 0}},Ve=await ft("/api/images",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!Ve.ok){let Ke=ot.METADATA_PASTE_FAILED;try{const Le=await Ve.json();Ke=Le.message||Ke,Le.errors&&Array.isArray(Le.errors)&&a.error({errors:Le.errors},"Batch processing errors")}catch(Le){a.error({err:Le},"Failed to parse error response")}throw new Error(Ke)}B(S,!1)})();Ct(k,{loading:ot.APPLYING_METADATA_PASTE,success:ot.METADATA_PASTED,error:b=>ot.ERROR_TITLE(b instanceof Error?b.message:ot.UNKNOWN_ERROR),delay:500});try{await k,await it()}catch(b){a.error({err:b},"Failed to paste metadata")}finally{B(le,!1)}}async function de(l,h=!1){let m=[];if(!h&&L.selection.has(l.id)&&L.selection.size>1)m=t(i).filter(k=>(k.type==="image"||k.type==="sequence"||k.type==="sequence-member"||k.type==="panorama"||k.type==="collage")&&L.selection.has(k.id));else if(l.sequenceInfo&&!h){const k=l.sequenceInfo.baseId;m=t(i).filter(b=>(b.type==="image"||b.type==="sequence"||b.type==="sequence-member"||b.type==="panorama"||b.type==="collage")&&b.sequenceInfo?.baseId===k)}else m=[l];if(m.length===0){we.error("≈Ω√°dn√© obr√°zky k resetov√°n√≠");return}const v=(async()=>{const k={images:m.map(V=>({id:V.id,src:V.src})),updates:{releaseDate:null}},b=await ft("/api/images",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!b.ok){const V=await b.json();throw new Error(V.message||"Nepoda≈ôilo se resetovat datum ≈ôazen√≠")}})();Ct(v,{loading:`Resetuji datum ≈ôazen√≠ (${m.length}√ó)...`,success:`Datum ≈ôazen√≠ resetov√°no (${m.length}√ó)`,error:k=>k instanceof Error?k.message:"Nepoda≈ôilo se resetovat",delay:500});try{await v,await it()}catch(k){a.error({err:k},"Failed to reset release date")}}async function W(){if(L.selection.size<2){we.error("Pro prohozen√≠ ƒças≈Ø mus√≠ b√Ωt vybr√°ny alespo≈à 2 fotky (reprezentuj√≠c√≠ 2 skupiny).");return}const l=Array.from(L.selection),h=fetch("/api/images/swap-time",{method:"POST",body:JSON.stringify({dayId:e.dayId,imageIds:l})}).then(async m=>{if(!m.ok){const T=await m.json();throw new Error(T.message||T.error||"Chyba serveru")}return m.json()});Ct(h,{loading:"Prohazuji ƒçasy...",success:"ƒåasy √∫spƒõ≈°nƒõ prohozeny",error:m=>m instanceof Error?m.message:"Chyba p≈ôi prohozen√≠"});try{await h,await it()}catch(m){a.error({err:m},"Failed to swap times")}}async function ee(){if(L.selection.size<2){we.error("Pro rozprost≈ôen√≠ ƒças≈Ø mus√≠ b√Ωt vybr√°ny alespo≈à 2 fotky.");return}const l=Array.from(L.selection),h=new Map,m=(dt.data.photoDays||[]).flatMap(v=>v.items);for(const v of l){const k=m.find(b=>b.id===v);k&&h.set(v,k.exif?.releaseDate||k.exif?.date||null)}const T=fetch("/api/images/redistribute",{method:"POST",body:JSON.stringify({dayId:e.dayId,imageIds:l})}).then(async v=>{if(!v.ok){const k=await v.json();throw new Error(k.message||k.error||"Chyba serveru")}return v.json()});we.promise(T,{loading:`Rozprost√≠r√°m ƒçasy (${l.length}√ó)...`,success:v=>`ƒåasy rozprost≈ôeny (${v.redistributed}√ó)`,error:v=>v instanceof Error?v.message:"Chyba p≈ôi rozprost≈ôen√≠",action:{label:"Vr√°tit zpƒõt",onClick:async()=>{let v=0;const k=l.length,b=we.loading(`Vrac√≠m zmƒõny (0/${k})...`);try{for(const[V,Ve]of h)Ve&&(await fetch("/api/images",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({images:[{id:V,src:""}],updates:{releaseDate:Ve}})}),v++,v%5===0&&we.loading(`Vrac√≠m zmƒõny (${v}/${k})...`,{id:b}));we.success("Zmƒõny vr√°ceny",{id:b}),await it()}catch(V){a.error({err:V},"Failed to undo redistribution"),we.error("Nepoda≈ôilo se vr√°tit v≈°echny zmƒõny",{id:b})}}}});try{await T,await it()}catch(v){a.error({err:v},"Failed to redistribute times")}}Dt(te);function te(){nt.debugMode&&(a.debug({debugMode:nt.debugMode},"PhotoGrid debug store value"),a.debug({itemsCount:e.items.length,itemTypes:e.items.map(l=>l.type),visibleSeparatorsCount:t(c).size,visibleSeparators:Array.from(t(c)),selectedAuthors:Ue.selectedAuthors,imageLocations:t(n)},"PhotoGrid render"))}let Z=R(()=>{if(!nt.curationMode||!e.curationManifest?.groups)return e.items.map(v=>({type:"item",data:v}));const l=[],h=new Map;e.items.forEach(v=>{(v.type==="image"||v.type==="collage"||v.type==="panorama"||v.type==="sequence")&&h.set(v.id,v)});const m=new Map;for(const v of e.curationManifest.groups){const k=v.items.map(b=>h.get(b)).filter(b=>!!b);if(k.length>1)for(const b of k)m.set(b.id,{group:v,items:k})}const T=new Set;for(const v of e.items){if(v.type==="separator"){l.push({type:"item",data:v});continue}const k=m.get(v.id);k?T.has(k.group.id)||(l.push({type:"group",data:k.group,items:k.items}),T.add(k.group.id)):l.push({type:"item",data:v})}return l}),ne=ze(null),be=R(()=>{const l=[];for(const h of t(Z))h.type==="group"?l.push(...h.items):h.type==="item"&&(h.data.type==="image"||h.data.type==="collage"||h.data.type==="panorama"||h.data.type==="sequence")&&l.push(h.data);return l});function me(l,h){if(h&&t(ne)){const m=la(t(be),t(ne)),T=la(t(be),l.id);if(m!==-1&&T!==-1){const v=ss(t(be),m,T);L.addMultiple(v.map(k=>k.id));return}}if(l.sequenceInfo){const m=l.sequenceInfo.baseId,v=t(i).filter(b=>(b.type==="image"||b.type==="sequence"||b.type==="sequence-member"||b.type==="panorama"||b.type==="collage")&&b.sequenceInfo?.baseId===m).map(b=>b.id);v.some(b=>L.selection.has(b))?L.removeMultiple(v):L.addMultiple(v),!h&&v.length>0&&B(ne,v[0],!0)}else L.toggleSelection(l.id),h||B(ne,l.id,!0)}let Ee=R(()=>L.showMetadataOverlay||dt.url.searchParams.has("overlay")&&dt.url.searchParams.get("overlay")!=="false");var Ce=ls(),qe=u(Ce);et(qe,17,()=>t(Z),ct,(l,h)=>{var m=M(),T=u(m);{var v=b=>{_a(b,{get items(){return t(h).items},get group(){return t(h).data},onDelete:Y,onArchive:D,onCopyMetadata:N,onSelect:me})},k=b=>{const V=R(()=>t(h).data);var Ve=M(),Ke=u(Ve);{var Le=Be=>{var Ze=M(),Pe=u(Ze);{var ke=Ne=>{var he=is();let q;var ae=_(he);{let _e=R(()=>t(n).get(t(V).id)),Me=R(()=>t(o).get(t(V).id)),Oe=R(()=>t(d).get(t(V).id));Vt(ae,{get item(){return t(V)},get scrollspyId(){return t(_e)},get isAnchor(){return t(Me)},get curationGroup(){return t(Oe)},onDelete:Y,onArchive:D,onCopyMetadata:N,onPasteMetadata:Q,onResetReleaseDate:de,onSwapTimes:W,onRedistributeTimes:ee,onOpenCurationDialog:J,onSelect:me})}g(he),K(()=>{q=Ye(he,1,"transition-all duration-150",null,q,{"opacity-50":t(P)===t(V).id,"ring-2":t(O)===t(V).id,"ring-blue-500":t(O)===t(V).id,"cursor-grab":!t(P),"cursor-grabbing":t(P)===t(V).id}),fe(he,"aria-grabbed",t(P)===t(V).id)}),yt("dragstart",he,_e=>{B(P,t(V).id,!0),_e.dataTransfer?.setData("text/plain",t(V).id),_e.dataTransfer&&(_e.dataTransfer.effectAllowed="move")}),yt("dragend",he,()=>{B(P,null),B(O,null)}),yt("dragover",he,_e=>{_e.preventDefault(),_e.dataTransfer&&(_e.dataTransfer.dropEffect="move"),t(P)&&t(P)!==t(V).id&&B(O,t(V).id,!0)}),yt("dragleave",he,()=>{t(O)===t(V).id&&B(O,null)}),yt("drop",he,_e=>{_e.preventDefault(),re(t(V).id)}),r(Ne,he)},De=Ne=>{{let he=R(()=>t(n).get(t(V).id)),q=R(()=>t(o).get(t(V).id)),ae=R(()=>t(d).get(t(V).id));Vt(Ne,{get item(){return t(V)},get scrollspyId(){return t(he)},get isAnchor(){return t(q)},get curationGroup(){return t(ae)},onDelete:Y,onArchive:D,onCopyMetadata:N,onPasteMetadata:Q,onResetReleaseDate:de,onSwapTimes:W,onRedistributeTimes:ee,onSelect:me,onOpenCurationDialog:J})}};z(Pe,Ne=>{L.reorderMode&&e.dayId?Ne(ke):Ne(De,!1)})}r(Be,Ze)},tt=Be=>{var Ze=M(),Pe=u(Ze);{var ke=De=>{{let Ne=R(()=>!t(c).has(t(V)));rs(De,{get item(){return t(V)},get showMetadataOverlay(){return t(Ee)},get dayId(){return e.dayId},get isEmpty(){return t(Ne)}})}};z(Pe,De=>{t(V).type==="separator"&&t(V).location&&De(ke)},!0)}r(Be,Ze)};z(Ke,Be=>{t(V).type==="image"||t(V).type==="sequence"||t(V).type==="panorama"||t(V).type==="collage"?Be(Le):Be(tt,!1)})}r(b,Ve)};z(T,b=>{t(h).type==="group"?b(v):b(k,!1)})}r(l,m)});var Ae=x(qe,2);$o(Ae,{get images(){return t(y)},get isDeleting(){return t(ue)},onConfirm:w,get open(){return t(E)},set open(l){B(E,l,!0)}});var ge=x(Ae,2);Xa(ge,{get images(){return t($)},get clipboardData(){return mt.data},onConfirm:j,onOpenCurationDialog:J,get open(){return t(S)},set open(l){B(S,l,!0)}});var H=x(ge,2);xn(H,{get images(){return t(C)},get isArchiving(){return t(X)},onConfirm:I,get open(){return t(F)},set open(l){B(F,l,!0)}});var ie=x(H,2);qo(ie,{get group(){return t(p)},onDelete:Y,onArchive:D,onCopyMetadata:N,onSelect:me,get open(){return t(U)},set open(l){B(U,l,!0)}}),r(s,Ce),se()}var cs=f('<section class="container mx-auto px-6 py-12"><!></section>'),us=f('<section class="container mx-auto px-6 py-12 text-center"><!></section>'),vs=f('<div class="pointer-events-none absolute" aria-hidden="true"></div>'),fs=f(`<span class="mb-1 block text-xs font-normal tracking-[0.05em] uppercase before:mr-4 before:tracking-[-0.3em] before:opacity-[0.34] before:content-['‚Äî‚Äî‚Äî'] after:ml-3 after:tracking-[-0.3em] after:opacity-[0.34] after:content-['‚Äî‚Äî‚Äî']"><!></span> `,1),gs=f(`<span class="mb-1 block text-xs font-normal tracking-[0.05em] uppercase before:mr-4 before:tracking-[-0.3em] before:opacity-[0.34] before:content-['‚Äî‚Äî‚Äî'] after:ml-3 after:tracking-[-0.3em] after:opacity-[0.34] after:content-['‚Äî‚Äî‚Äî']"> </span> `,1),ms=f('<div data-cy="day-cities" class="mb-6 text-lg"> </div>'),hs=f('<div data-cy="day-where" class="mx-auto mb-5 flex flex-wrap justify-center gap-2"></div>'),_s=f("<!> ",1),ps=f("<!> ",1),ys=f("<!> Resetovat po≈ôad√≠",1),bs=f('<div class="mt-4 flex justify-center gap-2 opacity-100 transition-opacity"><!> <!></div>'),xs=f('<section class="container mx-auto px-6 py-8"><div data-cy="day-head" class="group relative mx-auto my-12 max-w-xl text-center"><!> <h2 class="mb-1 text-3xl leading-snug"><!></h2> <!> <!> <!></div> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"><!></div></section>'),Ps=f("<div></div>"),ws=f(`Tato akce zru≈°√≠ ve≈°ker√© manu√°ln√≠ √∫pravy po≈ôad√≠ pro vybran√Ω den a se≈ôad√≠ fotky chronologicky
        podle ƒçasu po≈ô√≠zen√≠ (EXIF). <br/><br/> Nastaven√© ƒçasy (ReleaseDate) budou p≈ôeps√°ny p≈Øvodn√≠m ƒçasem po≈ô√≠zen√≠. Tato akce je nevratn√°.`,1),Is=f("<!> <!>",1),Ss=f("<!> <!>",1),ks=f("<!> <!>",1),Es=f("<!> <!> <!>",1);function Rs(s,e){oe(e,!0);let a=R(()=>Ue.filteredPhotoDays),i=R(()=>ar(t(a))),n=R(()=>{const y={authors:Ue.selectedAuthors.length>0,people:Ue.selectedPeople.length>0,quality:Ue.selectedQualityBuckets.length>0,mediaTypes:Ue.selectedMediaTypes.length>0,onlySnapshots:Ue.onlySnapshots};if(Object.values(y).filter(Boolean).length>1)return{title:Re.GENERIC_TITLE,description:Re.GENERIC_DESCRIPTION,icon:Xt,action:{label:Re.RESET_ALL,handler:()=>Ue.reset()}};if(y.authors)return{title:Re.AUTHORS_TITLE,description:Re.AUTHORS_DESCRIPTION,icon:Er,action:{label:Re.AUTHORS_RESET,handler:()=>{Ue.selectedAuthors=[]}}};if(y.people)return{title:Re.PEOPLE_TITLE,description:Re.PEOPLE_DESCRIPTION,icon:Mr,action:{label:Re.PEOPLE_RESET,handler:()=>{Ue.selectedPeople=[]}}};if(y.quality)return{title:Re.QUALITY_TITLE,description:Re.QUALITY_DESCRIPTION,icon:hr,action:{label:Re.QUALITY_RESET,handler:()=>{Ue.selectedQualityBuckets=[]}}};if(y.mediaTypes){const $=Ue.selectedMediaTypes.includes("sequence");return{title:Re.MEDIA_TYPE_TITLE,description:Re.MEDIA_TYPE_DESCRIPTION,icon:$?Sr:tr,action:{label:Re.MEDIA_TYPE_RESET,handler:()=>{Ue.selectedMediaTypes=[]}}}}return y.onlySnapshots?{title:Re.ONLY_SNAPSHOTS_TITLE,description:Re.ONLY_SNAPSHOTS_DESCRIPTION,icon:_r,action:{label:Re.ONLY_SNAPSHOTS_RESET,handler:()=>{Ue.onlySnapshots=!1}}}:{title:Re.GENERIC_TITLE,description:Re.GENERIC_DESCRIPTION,icon:Xt,action:{label:Re.RESET_ALL,handler:()=>Ue.reset()}}}),c=ze(!1),o=ze(null);async function d(){t(o)&&(await Ct(ns(t(o)),{loading:"Resetuji po≈ôad√≠ fotek...",success:"Po≈ôad√≠ fotek bylo obnoveno dle data po≈ô√≠zen√≠ (EXIF).",error:"Nepoda≈ôilo se resetovat po≈ôad√≠ fotek."}),B(c,!1),B(o,null))}var P=Es(),O=u(P);hn(O,{});var A=x(O,2);{var re=y=>{var S=cs(),$=_(S);oa($,{get title(){return t(n).title},get description(){return t(n).description},get icon(){return t(n).icon},get action(){return t(n).action}}),g(S),r(y,S)},ue=y=>{var S=M(),$=u(S);{var le=F=>{var C=us(),U=_(C);oa(U,{get title(){return Re.NO_DATA_TITLE},get description(){return Re.NO_DATA_DESCRIPTION},get icon(){return br}}),g(C),r(F,C)},X=F=>{var C=Ps();et(C,21,()=>t(i),U=>U.id??`day-${U.date}`,(U,p)=>{const J=R(()=>t(p).id??`day-${t(p).date}`);var Y=M(),w=u(Y);{var D=I=>{var N=xs(),Q=_(N),j=_(Q);{var de=H=>{var ie=M(),l=u(ie);et(l,17,()=>t(p).mergedDates,ct,(h,m)=>{var T=vs();K(()=>fe(T,"id",`day-${t(m)??""}`)),r(h,T)}),r(H,ie)};z(j,H=>{t(p).mergedDates&&H(de)})}var W=x(j,2),ee=_(W);{var te=H=>{var ie=fs(),l=u(ie),h=_(l);{var m=k=>{var b=Fe();K((V,Ve)=>ve(b,`${V??""} a ${Ve??""}`),[()=>bt(t(p).mergedDates[0]),()=>bt(t(p).mergedDates[1])]),r(k,b)},T=k=>{var b=Fe();K((V,Ve)=>ve(b,`${V??""}‚Äî${Ve??""}`),[()=>bt(t(p).mergedDates[0]),()=>bt(t(p).mergedDates[t(p).mergedDates.length-1])]),r(k,b)};z(h,k=>{t(p).mergedDates.length===2?k(m):k(T,!1)})}g(l);var v=x(l);K(k=>ve(v,` ${k??""}`),[()=>rr(t(p).mergedDates)]),r(H,ie)},Z=H=>{var ie=gs(),l=u(ie),h=_(l,!0);g(l);var m=x(l);K((T,v)=>{ve(h,T),ve(m,` ${v??""}`)},[()=>bt(t(p).date),()=>nr(t(p).date)]),r(H,ie)};z(ee,H=>{t(p).mergedDates?H(te):H(Z,!1)})}g(W);var ne=x(W,2);{var be=H=>{var ie=ms(),l=_(ie,!0);g(ie),K(h=>ve(l,h),[()=>t(p).cities.join(" ‚Äî ")]),r(H,ie)};z(ne,H=>{t(p).cities&&t(p).cities.length>0&&H(be)})}var me=x(ne,2);{var Ee=H=>{var ie=hs();et(ie,20,()=>t(p).locations,l=>l,(l,h)=>{or(l,{variant:"secondary",children:(m,T)=>{xe();var v=Fe();K(()=>ve(v,h)),r(m,v)},$$slots:{default:!0}})}),g(ie),r(H,ie)};z(me,H=>{t(p).locations&&t(p).locations.length>0&&H(Ee)})}var Ce=x(me,2);{var qe=H=>{const ie=R(()=>t(p).items.filter(v=>v.type==="image").map(v=>v.id)),l=R(()=>t(ie).length>0&&t(ie).every(v=>L.selection.has(v)));var h=bs(),m=_(h);Xe(m,{variant:"outline",size:"sm",class:"gap-2",onclick:()=>{t(l)?L.removeMultiple(t(ie)):L.addMultiple(t(ie))},children:(v,k)=>{var b=M(),V=u(b);{var Ve=Le=>{var tt=_s(),Be=u(tt);va(Be,{size:14});var Ze=x(Be);K(()=>ve(Ze,` ${t(p).mergedDates?"Zru≈°it v√Ωbƒõr dn≈Ø":"Zru≈°it v√Ωbƒõr dne"}`)),r(Le,tt)},Ke=Le=>{var tt=ps(),Be=u(tt);Ir(Be,{size:14});var Ze=x(Be);K(()=>ve(Ze,` ${t(p).mergedDates?"Vybrat cel√© dny":"Vybrat cel√Ω den"}`)),r(Le,tt)};z(V,Le=>{t(l)?Le(Ve):Le(Ke,!1)})}r(v,b)},$$slots:{default:!0}});var T=x(m,2);Xe(T,{variant:"outline",size:"sm",class:"gap-2",onclick:()=>{B(o,t(J),!0),B(c,!0)},children:(v,k)=>{var b=ys(),V=u(b);Gt(V,{size:14}),xe(),r(v,b)},$$slots:{default:!0}}),g(h),r(H,h)};z(Ce,H=>{L.editMode&&H(qe)})}g(Q);var Ae=x(Q,2),ge=_(Ae);ds(ge,{get items(){return t(p).items},get dayId(){return t(J)},get curationManifest(){return e.data.curationManifest}}),g(Ae),g(N),Ot(N,(H,ie)=>Ht?.(H,ie),()=>({id:t(J)})),K(()=>fe(N,"id",t(J))),r(I,N)};z(w,I=>{t(p).items.length>0&&I(D)})}r(U,Y)}),g(C),Ot(C,U=>Qr?.(U)),r(F,C)};z($,F=>{t(i).length===0&&Ue.sourceData.length===0?F(le):F(X,!1)},!0)}r(y,S)};z(A,y=>{Ue.visiblePhotos===0&&Ue.sourceData.length>0?y(re):y(ue,!1)})}var E=x(A,2);G(E,()=>St,(y,S)=>{S(y,{get open(){return t(c)},set open($){B(c,$,!0)},children:($,le)=>{var X=M(),F=u(X);G(F,()=>Pt,(C,U)=>{U(C,{children:(p,J)=>{var Y=ks(),w=u(Y);G(w,()=>wt,(I,N)=>{N(I,{children:(Q,j)=>{var de=Is(),W=u(de);G(W,()=>It,(te,Z)=>{Z(te,{children:(ne,be)=>{xe();var me=Fe("Obnovit p≈Øvodn√≠ po≈ôad√≠?");r(ne,me)},$$slots:{default:!0}})});var ee=x(W,2);G(ee,()=>Rt,(te,Z)=>{Z(te,{class:"pt-2",children:(ne,be)=>{xe();var me=ws();xe(3),r(ne,me)},$$slots:{default:!0}})}),r(Q,de)},$$slots:{default:!0}})});var D=x(w,2);G(D,()=>Bt,(I,N)=>{N(I,{children:(Q,j)=>{var de=Ss(),W=u(de);Xe(W,{variant:"outline",onclick:()=>{B(c,!1),B(o,null)},children:(te,Z)=>{xe();var ne=Fe("Zru≈°it");r(te,ne)},$$slots:{default:!0}});var ee=x(W,2);Xe(ee,{variant:"destructive",onclick:d,children:(te,Z)=>{xe();var ne=Fe("Obnovit po≈ôad√≠");r(te,ne)},$$slots:{default:!0}}),r(Q,de)},$$slots:{default:!0}})}),r(p,Y)},$$slots:{default:!0}})}),r($,X)},$$slots:{default:!0}})}),r(s,P),se()}export{Rs as component};
