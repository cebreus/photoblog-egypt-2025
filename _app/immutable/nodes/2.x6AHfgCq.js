const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../assets/fancybox.DxT1xVcY.css"])))=>i.map(i=>d[i]);
import{p as ya,c as M,a as r,f as v,d as Rt,s as ue,u as ba,m as xa,t as je,g as Pa,j as bt}from"../chunks/D8GM-E4V.js";import{T as wa,e as ca,U as Ia,m as Sa,a$ as ka,p as se,f as u,a as ie,g as t,z,c as _,b0 as Se,r as f,x as Oe,o as B,$ as Ct,u as zt,s as b,t as K,b1 as Ea,aJ as Pe,b2 as Ma}from"../chunks/BN7btXG3.js";import{p as ce,i as N,r as be,s as ke,c as G,b as yt}from"../chunks/DzZXnUWe.js";import{b as Xe,r as Ta,c as He,a as ve,d as Ca,s as Ot,e as tt,i as ut,f as nt}from"../chunks/CN0_DvCo.js";import{_ as Jt}from"../chunks/PPVm8Dsz.js";import{c as Aa,D as Da,b as Ze,s as xe,m as Pt,n as mt,M as za,a as Oa,F as Na,u as ua,d as Ra,P as qa,C as La,e as Fa,g as Qt,f as ja,h as Ga,I as Ue,t as Ie,B as et,S as ft,i as Ua,p as Lt,j as Va,k as Ba,l as ot,o as Ge,q as $a,r as wt,v as It,w as St,x as qt,y as Yt,R as kt,z as Ya,A as Ha,E as Ka,G as Ja,H as L,J as Qa,K as Za,T as Zt,L as Gt,N as st,O as Wa,Q as Xa,U as Ve,V as Ft,W as gt,X as va,Y as er,Z as tr,_ as qe,$ as ar,a0 as rr,a1 as nr,a2 as xt,a3 as or,a4 as sr}from"../chunks/DaVpBw_b.js";import{p as ct}from"../chunks/FdVj4UgE.js";import{i as lt}from"../chunks/CBeit1g1.js";function Nt(s,e,a){wa(()=>{var i=ca(()=>e(s,a?.())||{});if(a&&i?.update){var n=!1,c={};Ia(()=>{var o=a();Sa(o),n&&ka(c,o)&&(c=o,i.update(o))}),n=!0}if(i?.destroy)return()=>i.destroy()})}var ir=v("<button><!></button>");function lr(s,e){const a=ya();se(e,!0);let i=ce(e,"id",19,()=>Aa(a)),n=ce(e,"ref",15,null),c=ce(e,"disabled",3,!1),o=be(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const d=Da.create({id:Ze(()=>i()),ref:Ze(()=>n(),T=>n(T)),disabled:Ze(()=>!!c())}),S=z(()=>Pt(o,d.props));var A=M(),C=u(A);{var X=T=>{var x=M(),E=u(x);xe(E,()=>e.child,()=>({props:t(S)})),r(T,x)},fe=T=>{var x=ir();Xe(x,()=>({...t(S)}));var E=_(x);xe(E,()=>e.children??Se),f(x),r(T,x)};N(C,T=>{e.child?T(X):T(fe,!1)})}r(s,A),ie()}function dr(s,e){se(e,!0);let a=ce(e,"open",15,!1),i=ce(e,"dir",3,"ltr"),n=ce(e,"onOpenChange",3,mt),c=ce(e,"onOpenChangeComplete",3,mt);const o=za.create({variant:Ze(()=>"context-menu"),dir:Ze(()=>i()),onClose:()=>{a(!1),n()?.(!1)}});Oa.create({open:Ze(()=>a(),d=>{a(d),n()(d)}),onOpenChangeComplete:Ze(()=>c())},o),Na(s,{children:(d,S)=>{var A=M(),C=u(A);xe(C,()=>e.children??Se),r(d,A)},$$slots:{default:!0}}),ie()}var cr=v("<div><div><!></div></div>"),ur=v("<div><div><!></div></div>");function vr(s,e){se(e,!0);let a=ce(e,"id",19,ua),i=ce(e,"ref",15,null),n=ce(e,"loop",3,!0),c=ce(e,"onInteractOutside",3,mt),o=ce(e,"onCloseAutoFocus",3,mt),d=ce(e,"onOpenAutoFocus",3,mt),S=ce(e,"preventScroll",3,!0),A=ce(e,"onEscapeKeydown",3,mt),C=ce(e,"forceMount",3,!1),X=ce(e,"trapFocus",3,!1),fe=be(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","preventScroll","onEscapeKeydown","forceMount","trapFocus"]);const T=Ra.create({id:Ze(()=>a()),loop:Ze(()=>n()),ref:Ze(()=>i(),p=>i(p)),onCloseAutoFocus:Ze(()=>o())}),x=z(()=>Pt(fe,T.props));function E(p){if(c()(p),!p.defaultPrevented){if(p.target&&p.target instanceof Element){const ae=`[${T.parentMenu.root.getBitsAttr("sub-content")}]`;if(p.target.closest(ae))return}T.parentMenu.onClose()}}function R(p){A()(p),!p.defaultPrevented&&T.parentMenu.onClose()}function Q(p){if("button"in p&&p.button===2){const ae=p.target;return ae?ae.closest(`[${La}]`)!==T.parentMenu.triggerNode:!1}return!1}var ne=M(),F=u(ne);{var D=p=>{qa(p,ke(()=>t(x),()=>T.popperProps,{get ref(){return T.opts.ref},side:"right",sideOffset:2,align:"start",get enabled(){return T.parentMenu.opts.open.current},get preventScroll(){return S()},onInteractOutside:E,onEscapeKeydown:R,get onOpenAutoFocus(){return d()},isValidEvent:Q,get trapFocus(){return X()},get loop(){return n()},get id(){return a()},get shouldRender(){return T.shouldRender},popper:(U,V)=>{let I=()=>V?.().props,O=()=>V?.().wrapperProps;const w=z(()=>Pt(I(),{style:Qt("context-menu")}));var H=M(),$=u(H);{var re=ee=>{var Z=M(),J=u(Z);{let oe=z(()=>({props:t(w),wrapperProps:O(),...T.snippetProps}));xe(J,()=>e.child,()=>t(oe))}r(ee,Z)},le=ee=>{var Z=cr();Xe(Z,()=>({...O()}));var J=_(Z);Xe(J,()=>({...t(w)}));var oe=_(J);xe(oe,()=>e.children??Se),f(J),f(Z),r(ee,Z)};N($,ee=>{e.child?ee(re):ee(le,!1)})}r(U,H)},$$slots:{popper:!0}}))},j=p=>{var ae=M(),U=u(ae);{var V=I=>{Fa(I,ke(()=>t(x),()=>T.popperProps,{get ref(){return T.opts.ref},side:"right",sideOffset:2,align:"start",get open(){return T.parentMenu.opts.open.current},get preventScroll(){return S()},onInteractOutside:E,onEscapeKeydown:R,get onOpenAutoFocus(){return d()},isValidEvent:Q,get trapFocus(){return X()},get loop(){return n()},get id(){return a()},get shouldRender(){return T.shouldRender},popper:(w,H)=>{let $=()=>H?.().props,re=()=>H?.().wrapperProps;const le=z(()=>Pt($(),{style:Qt("context-menu")}));var ee=M(),Z=u(ee);{var J=_e=>{var me=M(),Ee=u(me);{let Ae=z(()=>({props:t(le),wrapperProps:re(),...T.snippetProps}));xe(Ee,()=>e.child,()=>t(Ae))}r(_e,me)},oe=_e=>{var me=ur();Xe(me,()=>({...re()}));var Ee=_(me);Xe(Ee,()=>({...t(le)}));var Ae=_(Ee);xe(Ae,()=>e.children??Se),f(Ee),f(me),r(_e,me)};N(Z,_e=>{e.child?_e(J):_e(oe,!1)})}r(w,ee)},$$slots:{popper:!0}}))};N(U,I=>{C()||I(V)},!0)}r(p,ae)};N(F,p=>{C()?p(D):p(j,!1)})}r(s,ne),ie()}var fr=v("<div><!></div>");function gr(s,e){se(e,!0);let a=ce(e,"id",19,ua),i=ce(e,"ref",15,null),n=ce(e,"disabled",3,!1),c=be(e,["$$slots","$$events","$$legacy","id","ref","child","children","disabled"]);const o=ja.create({id:Ze(()=>a()),disabled:Ze(()=>n()),ref:Ze(()=>i(),C=>i(C))}),d=z(()=>Pt(c,o.props,{style:{pointerEvents:"auto"}},{style:e.style,tabindex:e.tabindex}));var S=M(),A=u(S);G(A,()=>Ga,(C,X)=>{X(C,{get id(){return a()},get virtualEl(){return o.virtualElement},get ref(){return o.opts.ref},children:(fe,T)=>{var x=M(),E=u(x);{var R=ne=>{var F=M(),D=u(F);xe(D,()=>e.child,()=>({props:t(d)})),r(ne,F)},Q=ne=>{var F=fr();Xe(F,()=>({...t(d)}));var D=_(F);xe(D,()=>e.children??Se),f(F),r(ne,F)};N(E,ne=>{e.child?ne(R):ne(Q,!1)})}r(fe,x)},$$slots:{default:!0}})}),r(s,S),ie()}function mr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]];Ue(s,ke({name:"layout-grid"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Ut(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]];Ue(s,ke({name:"rotate-ccw"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function hr(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref"]);var n=M(),c=u(n);G(c,()=>lr,(o,d)=>{d(o,ke({"data-slot":"dialog-trigger"},()=>i,{get ref(){return a()},set ref(S){a(S)}}))}),r(s,n),ie()}function Wt(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}],["path",{d:"M10 12h4"}]];Ue(s,ke({name:"archive"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Xt(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"m16 3 4 4-4 4"}],["path",{d:"M20 7H4"}],["path",{d:"m8 21-4-4 4-4"}],["path",{d:"M4 17h16"}]];Ue(s,ke({name:"arrow-right-left"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function _r(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526"}],["circle",{cx:"12",cy:"8",r:"6"}]];Ue(s,ke({name:"award"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function pr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z"}],["circle",{cx:"12",cy:"13",r:"3"}]];Ue(s,ke({name:"camera"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function yr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["circle",{cx:"12",cy:"12",r:"10"}]];Ue(s,ke({name:"circle"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Mt(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Ue(s,ke({name:"copy"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function br(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5"}]];Ue(s,ke({name:"cylinder"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function xr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];Ue(s,ke({name:"database"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function ea(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]];Ue(s,ke({name:"funnel"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Pr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1"}]];Ue(s,ke({name:"pause"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function wr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];Ue(s,ke({name:"play"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Ir(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2"}]];Ue(s,ke({name:"rectangle-vertical"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Sr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"}],["path",{d:"m9 11 3 3L22 4"}]];Ue(s,ke({name:"square-check-big"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function kr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z"}]];Ue(s,ke({name:"square-play"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function fa(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];Ue(s,ke({name:"square"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Er(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["rect",{width:"20",height:"6",x:"2",y:"4",rx:"2"}],["rect",{width:"20",height:"6",x:"2",y:"14",rx:"2"}]];Ue(s,ke({name:"stretch-horizontal"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Mr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["circle",{cx:"12",cy:"8",r:"5"}],["path",{d:"M20 21a8 8 0 0 0-16 0"}]];Ue(s,ke({name:"user-round"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}function Tr(s,e){se(e,!0);let a=be(e,["$$slots","$$events","$$legacy"]);const i=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["circle",{cx:"9",cy:"7",r:"4"}]];Ue(s,ke({name:"users"},()=>a,{get iconNode(){return i},children:(n,c)=>{var o=M(),d=u(o);xe(d,()=>e.children??Se),r(n,o)},$$slots:{default:!0}})),ie()}class Cr{#e=Oe(null);get sourceImage(){return t(this.#e)}set sourceImage(e){B(this.#e,e,!0)}#t=Oe(null);get data(){return t(this.#t)}set data(e){B(this.#t,e,!0)}copy(e){const a={title:e.title,author:e.author,location:e.location,city:e.city,state:e.exif?.state,country:e.exif?.country,countryCode:e.exif?.countryCode,caption:e.caption,keywords:e.keywords};this.sourceImage=e,this.data=a}clear(){this.sourceImage=null,this.data=null}get hasData(){return this.data!==null}}const ht=new Cr;function ta(s){return/--collage(\.jpe?g)?$/i.test(s)||/-collage(\.jpe?g)?$/i.test(s)}async function At(s,e){const{loading:a,success:i,error:n,delay:c=500}=e;let o;const d=setTimeout(()=>{o=Ie.loading(a)},c);try{const S=await s;clearTimeout(d);const A=typeof i=="function"?i(S):i;return o?Ie.success(A,{id:o}):Ie.success(A),S}catch(S){clearTimeout(d);const A=typeof n=="function"?n(S):n;throw o?Ie.error(A,{id:o}):Ie.error(A),S}}const Ar={zoom:{delay:2e3,transitionClass:"zoom-mode"},timelapse:{delay:100,transitionClass:""},"focus-stack":{delay:500,transitionClass:""},pan:{delay:600,transitionClass:""},burst:{delay:300,transitionClass:""},pano:{delay:0,transitionClass:"is-pano"}},Dr=300,aa=20,zr=.05,Or=1e3,ra=0,na=100,Nr={zoom:"üîç",pan:"‚ÜîÔ∏è",burst:"üì∏",timelapse:"‚è±Ô∏è","focus-stack":"üéØ",pano:"üåÑ"},Rr="üì∑";var qr=v('<div class="pano-container svelte-12suzeo"><img class="pano-image svelte-12suzeo"/></div>'),Lr=v("<img/>"),Fr=v('<div class="frame-info svelte-12suzeo"><span class="counter"> </span></div>'),jr=v('<div><div class="image-stack svelte-12suzeo"><!></div> <div class="controls-panel svelte-12suzeo"><div class="controls-inner svelte-12suzeo"><!> <div class="scrubber-wrapper svelte-12suzeo"><input type="range" class="scrubber sequence-scrubber svelte-12suzeo" min="0"/> <div class="progress-fill svelte-12suzeo"></div></div> <!> <div class="frame-info ml-auto svelte-12suzeo"><span class="type-badge svelte-12suzeo"> </span></div></div></div></div>');function Gr(s,e){se(e,!0);let a=ce(e,"autoplay",3,!0),i=ce(e,"loop",3,!0),n=Oe(0),c=Oe(Ct(ca(()=>a()))),o=Oe(0),d=Oe(1),S=Oe(!1),A=null,C=null,X=null;const fe=z(()=>e.sequenceInfo.type==="pano"),T=z(()=>e.sequenceInfo.type==="zoom"),x=z(()=>Ar[e.sequenceInfo.type]?.delay??Dr),E=z(function(){return{pano:ft.TYPE_PANORAMA,zoom:ft.TYPE_ZOOM,timelapse:ft.TYPE_TIMELAPSE,"focus-stack":ft.TYPE_FOCUS_STACK,pan:ft.TYPE_PAN,burst:ft.TYPE_BURST}[e.sequenceInfo.type]??ft.TYPE_SEQUENCE});function R(){if(t(n)<e.images.length-1){Ea(n);return}i()?B(n,0):B(c,!1)}function Q(){const ge=zr*t(d),pe=Math.max(ra,Math.min(na,t(o)+ge));B(o,pe,!0),(pe>=na||pe<=ra)&&(i()?B(d,t(d)*-1):B(c,!1))}function ne(){B(S,!0),X=null,t(c)&&(C=setInterval(Q,aa))}function F(){A&&clearInterval(A),C&&clearInterval(C),X&&clearTimeout(X),A=null,C=null,X=null}function D(){if(!(C||X)){if(!t(S)){X=setTimeout(ne,Or);return}C=setInterval(Q,aa)}}function j(){A||(A=setInterval(R,t(x)))}function p(){t(fe)?D():j()}function ae(){B(c,!t(c))}function U(ge){const pe=ge.target,W=parseFloat(pe.value);t(fe)?B(o,W,!0):B(n,Math.round(W),!0),B(c,!1)}zt(function(){return t(c)?p():F(),F}),zt(function(){if(e.images.length<=1||t(fe))return;const pe=(t(n)+1)%e.images.length,W=new Image,de=e.images[pe].sources.find(l=>l.variant==="detail")||e.images[pe].sources[0];W.src=de.path});var V=jr();let I;var O=_(V),w=_(O);{var H=ge=>{const pe=z(()=>e.images[0].sources.find(m=>m.variant==="pano_detail")||e.images[0].sources.find(m=>m.variant==="detail")||e.images[0].sources[0]);var W=qr(),de=_(W);let l;f(W),K(()=>{ve(de,"src",t(pe).path),ve(de,"alt",e.images[0].alt||"Panorama"),l=Ot(de,"",l,{transform:`translateX(calc(${t(o)/100} * (100vw - 100%)))`})}),r(ge,W)},$=ge=>{var pe=M(),W=u(pe);tt(W,17,()=>e.images,ut,(de,l,m)=>{const g=z(()=>t(l).sources.find(k=>k.variant==="detail")||t(l).sources[0]);var P=Lr();let h;K(()=>{ve(P,"src",t(g).path),ve(P,"alt",t(l).alt||`Sn√≠mek ${m+1}`),h=He(P,1,"frame svelte-12suzeo",null,h,{active:m===t(n)})}),r(de,P)}),r(ge,pe)};N(w,ge=>{t(fe)&&e.images.length>0?ge(H):ge($,!1)})}f(O);var re=b(O,2),le=_(re),ee=_(le);{let ge=z(()=>t(c)?"Pause":"Play");et(ee,{variant:"ghost",size:"icon-sm",onclick:ae,get"aria-label"(){return t(ge)},class:"text-white hover:bg-white/20",children:(pe,W)=>{var de=M(),l=u(de);{var m=P=>{Pr(P,{size:20})},g=P=>{wr(P,{size:20})};N(l,P=>{t(c)?P(m):P(g,!1)})}r(pe,de)},$$slots:{default:!0}})}var Z=b(ee,2),J=_(Z);Ta(J),J.__input=U;var oe=b(J,2);let _e;f(Z);var me=b(Z,2);{var Ee=ge=>{var pe=Fr(),W=_(pe),de=_(W);f(W),f(pe),K(()=>ue(de,`${t(n)+1}/${e.images.length??""}`)),r(ge,pe)};N(me,ge=>{t(fe)||ge(Ee)})}var Ae=b(me,2),Be=_(Ae),De=_(Be,!0);f(Be),f(Ae),f(le),f(re),f(V),K(ge=>{I=He(V,1,"sequence-player svelte-12suzeo",null,I,{"is-pano":t(fe),"zoom-mode":t(T)}),ve(J,"max",t(fe)?100:e.images.length-1),ve(J,"step",t(fe)?.1:1),Ca(J,t(fe)?t(o):t(n)),_e=Ot(oe,"",_e,ge),ue(De,t(E))},[()=>({width:`${t(fe)?t(o):t(n)/Math.max(1,e.images.length-1)*100}%`})]),r(s,V),ie()}Rt(["input"]);let Dt=null;function Vt(){if(Dt)return Dt;const s=Ba(),e=[];for(const a of s)for(const i of a.items)i.type!=="separator"&&e.push(i);return Dt=e,e}function ga(){Dt=null}function Ur(s){s._player&&(ba(s._player),s._player=null)}function Vr(s){const e=s.triggerEl||s.$trigger;return e?e.dataset.imageId||e.getAttribute("data-image-id"):null}function ma(s){return Vt().find(a=>a.id===s)??null}function Br(s){const e=ma(s);return e?!!(Ua(s)||e.specialMedia):!1}function $r(s,e){const a=ma(s);if(!a)return null;let i=a.sequenceInfo||Lt(s),n=[];if(i){if(i.members&&i.members.length>0){const c=Vt(),o=new Set(i.members);n=c.filter(d=>o.has(d.id)),n.sort((d,S)=>{const A=d.sequenceInfo||Lt(d.id),C=S.sequenceInfo||Lt(S.id);return(A?.index??0)-(C?.index??0)})}else{const c=Vt();n=Va(c,i.baseId)}if(n.length===0)return null}else if(a.specialMedia?.isPanorama)i={type:"pano",index:1,total:1,baseId:s},n=[a];else return null;try{return xa(Gr,{target:e,props:{images:n,sequenceInfo:i,autoplay:!0,loop:!0}})}catch{return null}}function Ht(s){const e=s._imageId;if(!e||s._player)return;const a=s.el?.querySelector(".sequence-player-host");a&&(s._player=$r(e,a))}function Yr(s,e,a){const i=Vr(a);!i||!Br(i)||(a.type="html",a.html='<div class="sequence-player-host" style="width:100%; height:100%; display:flex; flex-direction:column; background:black;"></div>',a._imageId=i)}function Hr(s,e,a){a._imageId&&Ht(a)}function Kr(s){const e=s.Carousel;if(e?.slides)for(const a of e.slides)a._imageId&&Ht(a)}function Jr(s,e){if(!e?.slides||e.page===void 0)return;const a=e.slides[e.page];a?._imageId&&Ht(a)}function Qr(s,e){if(e?.slides){for(const a of e.slides)Ur(a);ga()}}const oa={Hash:!1,Carousel:{Thumbs:{showOnStart:!1}},on:{"Carousel.createSlide":Yr,"Carousel.attachSlideEl":Hr,"Carousel.ready":Kr,"Carousel.change":Jr,"Carousel.destroy":Qr}};function Zr(s,{selector:e="[data-fancybox]",options:a={}}={}){let i,n;async function c(){if(typeof window>"u")return;const{Fancybox:o}=await Jt(async()=>{const{Fancybox:S}=await import("../chunks/HIz69M1L.js");return{Fancybox:S}},[],import.meta.url);await Jt(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),n=o;const d={...oa,...a,on:{...oa.on,...a.on}};i=n.bind(s,e,d),s.setAttribute("data-fancybox-initialized","true")}return c(),{destroy(){i?.(),ga()}}}const ha="-64px 0px 0px 0px",Wr=0,Tt=new Map;function Xr(s,e){const a=Array.isArray(e)?e.join(","):String(e);return`${s??ha}|${a}`}const Kt=(s,e)=>{const{id:a,rootMargin:i=ha,threshold:n=Wr}=e;if(!a)return{destroy(){}};const c=Xr(i,n);let o=Tt.get(c);if(!o){const d=new Map;o={observer:new IntersectionObserver(A=>{const C=[],X=[];if(A.forEach(T=>{const x=d.get(T.target);x&&(T.isIntersecting?C.push(x):X.push(x))}),C.length===0&&X.length===0)return;const fe=new Set(ot.activeSections);X.forEach(T=>{fe.delete(T)}),C.forEach(T=>{fe.add(T)}),ot.activeSections=fe},{rootMargin:i,threshold:n}),nodes:d},Tt.set(c,o)}return o.nodes.set(s,a),o.observer.observe(s),{update(d){},destroy(){const d=Tt.get(c);if(d){d.nodes.delete(s);try{d.observer.unobserve(s)}catch{}d.nodes.size===0&&(d.observer.disconnect(),Tt.delete(c))}}}};var en=v("<div><!></div>");function tn(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=en();Xe(n,o=>({"data-slot":"empty",class:o,...i}),[()=>Ge("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12",e.class)]);var c=_(n);xe(c,()=>e.children??Se),f(n),yt(n,o=>a(o),()=>a()),r(s,n),ie()}var an=v("<div><!></div>");function rn(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=an();Xe(n,o=>({"data-slot":"empty-content",class:o,...i}),[()=>Ge("flex w-full max-w-sm min-w-0 flex-col items-center gap-4 text-sm text-balance",e.class)]);var c=_(n);xe(c,()=>e.children??Se),f(n),yt(n,o=>a(o),()=>a()),r(s,n),ie()}var nn=v("<div><!></div>");function on(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=nn();Xe(n,o=>({"data-slot":"empty-description",class:o,...i}),[()=>Ge("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",e.class)]);var c=_(n);xe(c,()=>e.children??Se),f(n),yt(n,o=>a(o),()=>a()),r(s,n),ie()}var sn=v("<div><!></div>");function ln(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=sn();Xe(n,o=>({"data-slot":"empty-header",class:o,...i}),[()=>Ge("flex max-w-sm flex-col items-center gap-2 text-center",e.class)]);var c=_(n);xe(c,()=>e.children??Se),f(n),yt(n,o=>a(o),()=>a()),r(s,n),ie()}const dn=$a({base:"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});var cn=v("<div><!></div>");function un(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=ce(e,"variant",3,"default"),n=be(e,["$$slots","$$events","$$legacy","ref","class","children","variant"]);var c=cn();Xe(c,d=>({"data-slot":"empty-icon","data-variant":i(),class:d,...n}),[()=>Ge(dn({variant:i()}),e.class)]);var o=_(c);xe(o,()=>e.children??Se),f(c),yt(c,d=>a(d),()=>a()),r(s,c),ie()}var vn=v("<div><!></div>");function fn(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=vn();Xe(n,o=>({"data-slot":"empty-title",class:o,...i}),[()=>Ge("text-lg font-medium tracking-tight",e.class)]);var c=_(n);xe(c,()=>e.children??Se),f(n),yt(n,o=>a(o),()=>a()),r(s,n),ie()}var gn=v("<!> <!>",1),mn=v("<!> <!> <!>",1);function sa(s,e){se(e,!0);var a=M(),i=u(a);G(i,()=>tn,(n,c)=>{c(n,{class:"mx-auto flex max-w-xl bg-linear-to-br from-slate-100 to-slate-300 p-6 text-center dark:from-slate-700 dark:to-slate-800",children:(o,d)=>{var S=mn(),A=u(S);G(A,()=>un,(T,x)=>{x(T,{children:(E,R)=>{var Q=M(),ne=u(Q);G(ne,()=>e.icon,(F,D)=>{D(F,{class:"text-muted-foreground/60 "})}),r(E,Q)},$$slots:{default:!0}})});var C=b(A,2);G(C,()=>ln,(T,x)=>{x(T,{children:(E,R)=>{var Q=gn(),ne=u(Q);G(ne,()=>fn,(D,j)=>{j(D,{children:(p,ae)=>{Pe();var U=je();K(()=>ue(U,e.title)),r(p,U)},$$slots:{default:!0}})});var F=b(ne,2);G(F,()=>on,(D,j)=>{j(D,{children:(p,ae)=>{Pe();var U=je();K(()=>ue(U,e.description)),r(p,U)},$$slots:{default:!0}})}),r(E,Q)},$$slots:{default:!0}})});var X=b(C,2);{var fe=T=>{var x=M(),E=u(x);G(E,()=>rn,(R,Q)=>{Q(R,{children:(ne,F)=>{et(ne,{variant:"secondary",get onclick(){return e.action.handler},children:(D,j)=>{Pe();var p=je();K(()=>ue(p,e.action.label)),r(D,p)},$$slots:{default:!0}})},$$slots:{default:!0}})}),r(T,x)};N(X,T=>{e.action&&T(fe)})}r(o,S)},$$slots:{default:!0}})}),r(s,a),ie()}var hn=v('<section class="bg-linear-to-br from-slate-700 to-slate-950 py-24" data-testid="hero-section"><div class="container mx-auto grid items-center gap-8 lg:grid-cols-1"><div class="flex flex-col items-center gap-y-2 text-center" data-testid="hero-left"><h1 class="my-6 bg-linear-to-br from-orange-400 to-red-600 bg-clip-text text-3xl leading-tight font-bold text-pretty text-transparent lg:text-5xl" data-testid="hero-title"> </h1> <p class="mb-8 max-w-xl text-balance text-slate-300 lg:text-lg" data-testid="hero-description"> </p></div></div></section>');function _n(s,e){se(e,!0);const a=z(()=>ct.data.siteManifest);var i=hn(),n=_(i),c=_(n),o=_(c),d=_(o,!0);f(o);var S=b(o,2),A=_(S,!0);f(S),f(c),f(n),f(i),K(()=>{ue(d,t(a)?.open_graph?.site_name),ue(A,t(a)?.manifest?.appDescription)}),r(s,i),ie()}var pn=v("<!> <!>",1),yn=v('<li class="flex items-center gap-3 text-sm"><img class="bg-muted h-20 w-20 rounded object-cover"/> <span class="font-mono text-xs"> </span></li>'),bn=v("<!> <!>",1),xn=v('<!> <div class="my-4 max-h-75 overflow-y-auto rounded border p-2"><ul class="space-y-2"></ul></div> <!>',1);function Pn(s,e){se(e,!0);let a=ce(e,"open",15,!1),i=ce(e,"isArchiving",3,!1);var n=M(),c=u(n);G(c,()=>kt,(o,d)=>{d(o,{get open(){return a()},set open(S){a(S)},children:(S,A)=>{var C=M(),X=u(C);G(X,()=>wt,(fe,T)=>{T(fe,{"data-testid":"archive-image-dialog-content",children:(x,E)=>{var R=xn(),Q=u(R);G(Q,()=>It,(j,p)=>{p(j,{children:(ae,U)=>{var V=pn(),I=u(V);G(I,()=>St,(w,H)=>{H(w,{children:($,re)=>{Pe();var le=je("Archivovat fotky?");r($,le)},$$slots:{default:!0}})});var O=b(I,2);G(O,()=>qt,(w,H)=>{H(w,{children:($,re)=>{Pe();var le=je("N√°sleduj√≠c√≠ fotky budou p≈ôesunuty do slo≈æky 'archive' a nebudou se ji≈æ zobrazovat na webu.");r($,le)},$$slots:{default:!0}})}),r(ae,V)},$$slots:{default:!0}})});var ne=b(Q,2),F=_(ne);tt(F,21,()=>e.images,ut,(j,p)=>{var ae=yn(),U=_(ae),V=b(U,2),I=_(V,!0);f(V),f(ae),K((O,w)=>{ve(U,"src",O),ve(U,"alt",t(p).alt),ue(I,w)},[()=>t(p).sources.find(O=>O.variant==="fallback")?.path,()=>t(p).src.split("/").pop()]),r(j,ae)}),f(F),f(ne);var D=b(ne,2);G(D,()=>Yt,(j,p)=>{p(j,{children:(ae,U)=>{var V=bn(),I=u(V);et(I,{variant:"outline",type:"button",onclick:()=>a(!1),"data-testid":"archive-image-dialog-cancel",children:(w,H)=>{Pe();var $=je("Zru≈°it");r(w,$)},$$slots:{default:!0}});var O=b(I,2);et(O,{variant:"default",type:"button",get onclick(){return e.onConfirm},get disabled(){return i()},"data-testid":"archive-image-dialog-confirm",children:(w,H)=>{Pe();var $=je();K(()=>ue($,i()?"Archivace...":"Potvrdit archivaci")),r(w,$)},$$slots:{default:!0}}),r(ae,V)},$$slots:{default:!0}})}),r(x,R)},$$slots:{default:!0}})}),r(S,C)},$$slots:{default:!0}})}),r(s,n),ie()}function pt(s){if(!s)return"";const e=s.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})/);if(!e)return s;const[,a,i,n,c,o]=e;return`${parseInt(n)}. ${parseInt(i)}. ${a} ${c}:${o}`}var wn=v('<div class="bg-opacity-50 pointer-events-none absolute top-2 right-2 rounded-md bg-gray-900 p-1.5 text-white" data-testid="aspect-ratio-icon"><!></div>');function In(s,e){se(e,!0);let a=Oe(void 0);zt(()=>{e.isCollage?B(a,mr,!0):e.aspectRatio==="square"?B(a,fa,!0):e.aspectRatio?.startsWith("portrait")?B(a,Ir,!0):e.aspectRatio==="panorama"?B(a,br,!0):e.aspectRatio==="sphere"?B(a,yr,!0):B(a,void 0)});var i=wn(),n=_(i);{var c=o=>{var d=M(),S=u(d);G(S,()=>t(a),(A,C)=>{C(A,{class:"h-4 w-4"})}),r(o,d)};N(n,o=>{t(a)&&o(c)})}f(i),r(s,i),ie()}var Sn=v('<div class="pointer-events-none absolute top-2 right-2 flex items-center gap-1 rounded bg-black/70 px-2 py-1 text-xs font-semibold text-white shadow-lg backdrop-blur-sm" data-testid="sequence-badge"><span> </span> <span> </span></div>');function kn(s,e){se(e,!0);const a=z(()=>Nr[e.info.type]??Rr),i=z(()=>e.info.type==="zoom");var n=Sn(),c=_(n),o=_(c,!0);f(c);var d=b(c,2),S=_(d);f(d),f(n),K(()=>{ue(o,t(a)),ue(S,`${e.info.total??""}${t(i)?"√ó":""}`)}),r(s,n),ie()}var En=v('<div class="flex"><span class="text-pink-400"> </span> <!></div>'),Mn=v('<div class="border-l border-gray-700 pl-2"></div> <span class="text-white">}</span>',1),Tn=v('<button class="cursor-pointer text-gray-400 hover:text-gray-100"><span> </span></button> <span class="text-white"> </span> <!>',1),Cn=v('<div class="flex"><span class="text-gray-500"></span> <!></div>'),An=v('<div class="border-l border-gray-700 pl-2"></div> <span class="text-white">]</span>',1),Dn=v('<button class="cursor-pointer text-gray-400 hover:text-gray-100"><span> </span></button> <span class="text-white"> </span> <!>',1),zn=v('<span class="break-all text-green-400"> </span>'),On=v('<span class="text-blue-400"> </span>'),Nn=v('<span class="text-purple-400"> </span>'),Rn=v('<span class="text-gray-500">null</span>'),qn=v('<div class="font-mono text-xs" data-testid="json-viewer"><!></div>');function Bt(s,e){se(e,!0);let a=ce(e,"level",3,0),i=ce(e,"defaultExpanded",3,!1);const n=z(()=>a()===0||i());let c=Oe(null);const o=z(()=>t(c)??t(n)),d=E=>typeof E=="object"&&E!==null&&!Array.isArray(E),S=E=>Array.isArray(E);function A(){B(c,!t(o))}var C=qn();let X;var fe=_(C);{var T=E=>{var R=Tn(),Q=u(R);Q.__click=A;var ne=_(Q),F=_(ne,!0);f(ne),f(Q);var D=b(Q,2),j=_(D,!0);f(D);var p=b(D,2);{var ae=U=>{var V=Mn(),I=u(V);tt(I,21,()=>Object.entries(e.data),ut,(O,w)=>{var H=z(()=>Ma(t(w),2));let $=()=>t(H)[0],re=()=>t(H)[1];var le=En(),ee=_(le),Z=_(ee);f(ee);var J=b(ee,2);{let oe=z(()=>a()+1);Bt(J,{get data(){return re()},get level(){return t(oe)},defaultExpanded:!1})}f(le),K(()=>ue(Z,`"${$()??""}":`)),r(O,le)}),f(I),Pe(2),r(U,V)};N(p,U=>{t(o)&&U(ae)})}K(()=>{ue(F,t(o)?"‚ñº":"‚ñ∂"),ue(j,t(o)?"{":"{...}")}),r(E,R)},x=E=>{var R=M(),Q=u(R);{var ne=D=>{var j=Dn(),p=u(j);p.__click=A;var ae=_(p),U=_(ae,!0);f(ae),f(p);var V=b(p,2),I=_(V);f(V);var O=b(V,2);{var w=H=>{var $=An(),re=u($);tt(re,21,()=>e.data,ut,(le,ee,Z)=>{var J=Cn(),oe=_(J);oe.textContent=`${Z}:`;var _e=b(oe,2);{let me=z(()=>a()+1);Bt(_e,{get data(){return t(ee)},get level(){return t(me)},defaultExpanded:!1})}f(J),r(le,J)}),f(re),Pe(2),r(H,$)};N(O,H=>{t(o)&&H(w)})}K(()=>{ue(U,t(o)?"‚ñº":"‚ñ∂"),ue(I,`${t(o)?"[":"[...]"}${!t(o)&&e.data.length>0?` (${e.data.length} items)`:""}`)}),r(D,j)},F=D=>{var j=M(),p=u(j);{var ae=V=>{var I=zn(),O=_(I);f(I),K(()=>ue(O,`"${e.data??""}"`)),r(V,I)},U=V=>{var I=M(),O=u(I);{var w=$=>{var re=On(),le=_(re,!0);f(re),K(()=>ue(le,e.data)),r($,re)},H=$=>{var re=M(),le=u(re);{var ee=J=>{var oe=Nn(),_e=_(oe,!0);f(oe),K(me=>ue(_e,me),[()=>String(e.data)]),r(J,oe)},Z=J=>{var oe=M(),_e=u(oe);{var me=Ee=>{var Ae=Rn();r(Ee,Ae)};N(_e,Ee=>{e.data===null&&Ee(me)},!0)}r(J,oe)};N(le,J=>{typeof e.data=="boolean"?J(ee):J(Z,!1)},!0)}r($,re)};N(O,$=>{typeof e.data=="number"?$(w):$(H,!1)},!0)}r(V,I)};N(p,V=>{typeof e.data=="string"?V(ae):V(U,!1)},!0)}r(D,j)};N(Q,D=>{S(e.data)?D(ne):D(F,!1)},!0)}r(E,R)};N(fe,E=>{d(e.data)?E(T):E(x,!1)})}f(C),K(()=>X=Ot(C,"",X,{"--level":a(),"padding-left":"calc(var(--level) * 0.5rem)"})),r(s,C),ie()}Rt(["click"]);function Ln(s,e){se(e,!0);let a=ce(e,"open",15,!1),i=be(e,["$$slots","$$events","$$legacy","open"]);var n=M(),c=u(n);G(c,()=>dr,(o,d)=>{d(o,ke(()=>i,{get open(){return a()},set open(S){a(S)}}))}),r(s,n),ie()}function _a(s,e){let a=be(e,["$$slots","$$events","$$legacy"]);var i=M(),n=u(i);G(n,()=>Ya,(c,o)=>{o(c,ke(()=>a))}),r(s,i)}function Fn(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref","portalProps","class"]);_a(s,ke(()=>e.portalProps,{children:(n,c)=>{var o=M(),d=u(o);{let S=z(()=>Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-end-2 data-[side=right]:slide-in-from-start-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--bits-context-menu-content-available-height) min-w-[8rem] origin-(--bits-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e.class));G(d,()=>vr,(A,C)=>{C(A,ke({"data-slot":"context-menu-content",get class(){return t(S)}},()=>i,{get ref(){return a()},set ref(X){a(X)}}))})}r(n,o)},$$slots:{default:!0}})),ie()}function rt(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=ce(e,"variant",3,"default"),n=be(e,["$$slots","$$events","$$legacy","ref","class","inset","variant"]);var c=M(),o=u(c);{let d=z(()=>Ge("data-highlighted:bg-accent data-highlighted:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:data-highlighted:bg-destructive/10 dark:data-[variant=destructive]:data-highlighted:bg-destructive/20 data-[variant=destructive]:data-highlighted:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:ps-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e.class));G(o,()=>Ha,(S,A)=>{A(S,ke({"data-slot":"context-menu-item",get"data-inset"(){return e.inset},get"data-variant"(){return i()},get class(){return t(d)}},()=>n,{get ref(){return a()},set ref(C){a(C)}}))})}r(s,c),ie()}function jt(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref","class"]);var n=M(),c=u(n);{let o=z(()=>Ge("bg-border -mx-1 my-1 h-px",e.class));G(c,()=>Ka,(d,S)=>{S(d,ke({"data-slot":"context-menu-separator",get class(){return t(o)}},()=>i,{get ref(){return a()},set ref(A){a(A)}}))})}r(s,n),ie()}function jn(s,e){se(e,!0);let a=ce(e,"ref",15,null),i=be(e,["$$slots","$$events","$$legacy","ref"]);var n=M(),c=u(n);G(c,()=>gr,(o,d)=>{d(o,ke({"data-slot":"context-menu-trigger"},()=>i,{get ref(){return a()},set ref(S){a(S)}}))}),r(s,n),ie()}function Gn(s){return s.split("/").pop()}function Un(s){const e=[s.location!=="Unknown"?s.location:null,s.city,s.exif?.country].filter(Boolean);return e.length>0?e.join(", "):null}function Vn(s){const e=[],a=Gn(s.src);a&&e.push(`File: ${a}`),s.date&&e.push(`Date: ${pt(s.date)}`);const i=Un(s);i&&e.push(`Location: ${i}`);const n=s.latitude??s.exif?.latitude,c=s.longitude??s.exif?.longitude;return n!=null&&c!=null&&e.push(`GPS: ${n}, ${c}`),e.join(`
`)}const Bn=(s,e)=>{let a=()=>e?.().item;var i=Kn(),n=_(i),c=_(n,!0);f(n);var o=b(n,2),d=_(o);{var S=T=>{var x=$n(),E=_(x),R=_(E,!0);f(E),f(x),K(Q=>ue(R,Q),[()=>pt(a().date)]),r(T,x)};N(d,T=>{a().date&&T(S)})}var A=b(d,2);{var C=T=>{var x=Yn(),E=_(x);f(x),K(()=>{ve(x,"title",a().author),ue(E,`Author: ${a().author??""}`)}),r(T,x)};N(A,T=>{a().author&&T(C)})}var X=b(A,2);{var fe=T=>{var x=Hn(),E=_(x);f(x),K(()=>ue(E,`${a().width??""}x${a().height??""}`)),r(T,x)};N(X,T=>{a().width&&a().height&&T(fe)})}f(o),f(i),K((T,x)=>{ve(n,"title",T),ue(c,x)},[()=>a().src.split("/").pop(),()=>a().src.split("/").pop()]),r(s,i)};var $n=v('<div class="flex items-center gap-1"><span> </span></div>'),Yn=v('<div class="truncate"> </div>'),Hn=v('<div class="opacity-70"> </div>'),Kn=v('<div class="space-y-1 pt-2 text-sm"><div class="truncate font-bold"> </div> <div class="text-muted-foreground flex flex-col gap-0.5 text-xs"><!> <!> <!></div></div>'),Jn=v("<!> Smazat",1),Qn=v("<!> Archivovat",1),Zn=v('<div class="mt-auto flex flex-col items-stretch gap-2 pt-2"><div class="flex items-center gap-2"><!> <!></div></div>'),Wn=v('<span class="text-muted-foreground"></span>'),Xn=v('<tr><th class="text-muted-foreground min-w-16 px-1 py-1 align-baseline font-medium"> </th><td><!></td></tr>'),eo=v('<div data-testid="photo-grid-item-metadata-container"><table class="mt-2 w-full rounded-md bg-slate-50 text-xs dark:bg-slate-950" data-testid="photo-grid-item-metadata-table"><tbody></tbody></table></div>'),to=v('<div class="pointer-events-none absolute inset-0"></div>'),ao=v('<source sizes="(min-width: 1280px) 25vw, (min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw"/>'),ro=v('<picture><!> <img class="h-full w-full cursor-zoom-in object-cover"/></picture>'),no=v('<img class="h-full w-full object-contain"/>'),oo=v('<div class="rounded bg-green-600 px-1.5 py-0.5 text-[10px] font-bold text-white shadow" data-testid="curation-recommendation-badge">DOPORUƒåENO</div>'),so=v('<div class="rounded bg-amber-500 px-1.5 py-0.5 text-[10px] font-bold text-white shadow">DUPLICITY</div> <!>',1),io=v('<div class="pointer-events-none absolute top-2 left-2 z-10 flex flex-col gap-1"><!> <!> <!></div>'),lo=Pa('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="text-white"><polyline points="20 6 9 17 4 12"></polyline></svg>'),co=v('<div class="pointer-events-auto absolute top-2 right-2"><div><!></div></div>'),uo=v("<!> Porovnat duplicity",1),vo=v('<div class="pointer-events-none absolute inset-0 flex items-center justify-center gap-2"><!></div>'),fo=v("<div><!> <!></div>"),go=v('<span class="sr-only">Otev≈ô√≠t detail fotky</span>'),mo=v("<figure><!> <!></figure> <!> <!> <!> <!>",1),ho=v('<div class="mt-2 overflow-x-auto rounded-md bg-slate-950 p-2 text-xs whitespace-nowrap text-white"><!></div>'),_o=v("<!> <!>",1),po=v("<!> <!> <!> <!>",1),yo=v("<!> <span>Kop√≠rovat metadata</span>",1),bo=v("<!> <span>Kop√≠rovat do schr√°nky</span>",1),xo=v('<div class="flex flex-1 items-center gap-2"><!> <span> </span></div>'),Po=v('<div class="text-muted-foreground flex flex-1 items-center gap-2 pl-6 text-xs"><span>‚Ü≥ Pouze na tento obr√°zek</span></div>'),wo=v("<!> <!>",1),Io=v("<!> <span>Vlo≈æit metadata</span>",1),So=v('<div class="flex flex-1 items-center gap-2"><!> <span> </span></div>'),ko=v('<div class="text-muted-foreground flex flex-1 items-center gap-2 pl-6 text-xs"><span>‚Ü≥ Pouze tento obr√°zek</span></div>'),Eo=v("<!> <!>",1),Mo=v("<!> <span>Resetovat datum ≈ôazen√≠</span>",1),To=v("<!> <span>Prohodit ƒçasy (Swap)</span>",1),Co=v("<!> <span>Rozprost≈ô√≠t ƒçasy</span>",1),Ao=v("<!> <!> <!>",1),Do=v("<!> <span>Smazat obr√°zek</span>",1),zo=v("<!> <span>Archivovat fotku</span>",1),Oo=v("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),No=v("<!> <!>",1);function $t(s,e){se(e,!0);const a=I=>{var O=Zn(),w=_(O),H=_(w);et(H,{variant:"destructive",size:"sm",class:"flex-1 gap-2",onclick:j,"aria-label":"Smazat tuto fotku",children:(re,le)=>{var ee=Jn(),Z=u(ee);Zt(Z,{class:"size-3"}),Pe(),r(re,ee)},$$slots:{default:!0}});var $=b(H,2);et($,{variant:"secondary",size:"sm",class:"flex-1 gap-2 border border-slate-200 dark:border-slate-800",onclick:re=>{re.stopPropagation(),e.onArchive?.(e.item)},"aria-label":"Archivovat tuto fotku",children:(re,le)=>{var ee=Qn(),Z=u(ee);Wt(Z,{class:"size-3"}),Pe(),r(re,ee)},$$slots:{default:!0}}),f(w),f(O),r(I,O)},i=(I,O)=>{let w=()=>O?.().item;const H=z(()=>w().src.split("/").pop()??w().src),$=z(()=>w().exif?.releaseDate&&w().exif?.date&&w().exif.releaseDate!==w().exif.date),re=z(()=>[{label:"Soubor",value:t(H),isTechnical:!0},{label:"Po≈ô√≠zen√≠",value:pt(w().exif?.date||""),isTechnical:!0},{label:"≈òazen√≠",value:pt(w().exif?.releaseDate||""),isTechnical:!0,isModified:t($)},{label:"Lid√©",value:(w().people||[]).map(J=>Wa.people.find(oe=>oe.id===J)?.name).filter(Boolean).join(", "),isTechnical:!0},{label:"Autor",value:w().author},{label:"M√≠sto",value:w().location},{label:"Mƒõsto",value:w().city},{label:"St√°t / Provincie",value:w().exif?.state},{label:"Zemƒõ",value:w().exif?.country?`${w().exif.country}${w().exif.countryCode?` (${w().exif.countryCode})`:""}`:w().exif?.countryCode||""},{label:"Kl√≠ƒçov√° slova",value:w().keywords?.join(", ")},{label:"Popisek",value:w().caption},{label:"N√°zev",value:w().title},{label:"Rozmƒõry",value:w().width&&w().height?`${w().width} x ${w().height}`:"",isTechnical:!0},{label:"Velikost",value:w().sizeMB!=null?`${w().sizeMB} MB`:"",isTechnical:!0},{label:"Aesthetic / Sharpness",value:w().analysis?`${w().analysis.aestheticScore?.toFixed(2)??""} / ${w().analysis.sharpness?.toFixed(2)??"‚Äî"}<br /><span title="Quality Bucket">${w().analysis.qualityBucket??"‚Äî"}</span>`:"‚Äî",isTechnical:!0}]);var le=M(),ee=u(le);{var Z=J=>{var oe=eo(),_e=_(oe),me=_(_e);tt(me,21,()=>t(re),ut,(Ee,Ae,Be)=>{var De=Xn(),ge=_(De),pe=_(ge,!0);f(ge);var W=b(ge),de=_(W);{var l=g=>{var P=M(),h=u(P);Gt(h,()=>t(Ae).value),r(g,P)},m=g=>{var P=Wn();r(g,P)};N(de,g=>{t(Ae).value?g(l):g(m,!1)})}f(W),f(De),K((g,P)=>{He(De,1,nt(Be<t(re).length-1?"border-b border-slate-400 dark:border-slate-700":"")),ve(De,"data-testid",`photo-grid-item-metadata-row-${g??""}`),ue(pe,t(Ae).label),He(W,1,P)},[()=>t(Ae).label.toLowerCase().replace(/\s+/g,"-"),()=>nt(Ge("line-clamp-3 w-full max-w-full min-w-0 py-1 font-mono whitespace-pre-line",t(Ae).isTechnical&&"text-muted-foreground",t(Ae).isModified&&"text-pink-600 dark:text-pink-400"))]),r(Ee,De)}),f(me),f(_e),f(oe),r(J,oe)};N(ee,J=>{t(ae)&&J(Z)})}r(I,le)};let n=ce(e,"mode",3,"grid"),c=ce(e,"isAnchor",3,!1),o=ce(e,"loading",3,"lazy");function d(I){return I.variant==="fallback"}function S(I){return I.sources.find(d)}function A(I){return I.variant==="detail"}function C(I){return I.sources.find(A)??I.sources[0]}function X(I){return I.variant==="admin_thumb"}function fe(I){return I.sources.find(X)}function T(I){return ta(I.id)?!0:I.aspectRatio?!I.aspectRatio.startsWith("landscape"):!1}function x(I,O){L.editMode&&(O instanceof KeyboardEvent&&O.key!=="Enter"&&O.key!==" "||(O.preventDefault(),e.onSelect?e.onSelect(e.item,O.shiftKey):L.toggleSelection(I)))}let E=z(()=>L.selection.has(e.item.id)),R=z(()=>ot.isCurationVisualsVisible(!!e.curationGroup,n())),Q=z(()=>S(e.item)??e.item.sources[0]),ne=z(()=>C(e.item)),F=z(()=>fe(e.item));function D(I){!ot.curationMode||!e.curationGroup||(I.stopPropagation(),I.preventDefault(),e.onOpenCurationDialog?.(e.curationGroup))}function j(I){I.stopPropagation(),I.preventDefault(),e.onDelete?.(e.item)}async function p(){try{const I=Vn(e.item);await navigator.clipboard.writeText(I),Ie.success(st.METADATA_CLIPBOARD_SUCCESS)}catch{Ie.error(st.UNKNOWN_ERROR)}}let ae=z(()=>L.showMetadataOverlay||ct.url.searchParams.has("overlay")&&ct.url.searchParams.get("overlay")!=="false");var U=M(),V=u(U);G(V,()=>Ln,(I,O)=>{O(I,{children:(w,H)=>{var $=No(),re=u($);{let Z=z(()=>Ge("group relative block rounded-lg text-left",n()==="curation"?"flex w-64 flex-col rounded border bg-white p-2 shadow-sm transition-shadow hover:shadow-md dark:bg-slate-800":"")),J=z(()=>`photo-grid-item-container-${e.item.id}`),oe=z(()=>!L.editMode&&!(ot.curationMode&&e.curationGroup));G(re,()=>jn,(_e,me)=>{me(_e,{get class(){return t(Z)},get"data-testid"(){return t(J)},get disabled(){return t(oe)},children:(Ee,Ae)=>{var Be=po(),De=u(Be);Ja(De,()=>L.editMode?"div":"a",!1,(m,g)=>{Xe(m,()=>({href:L.editMode||t(R)?void 0:t(ne)?.path,"data-fancybox":L.editMode||t(R)?void 0:"gallery","data-caption":L.editMode||t(R)?void 0:e.item.alt,"data-image-id":e.item.id,"data-media-type":e.item.type,class:"group relative block rounded-lg text-left","data-testid":"photo-grid-item"}));var P=mo(),h=u(P);h.__click=q=>L.editMode?x(e.item.id,q):void 0;var k=_(h);{var y=q=>{var te=to();Nt(te,(he,Te)=>Kt?.(he,Te),()=>({id:e.scrollspyId})),K(()=>{ve(te,"id",c()?e.scrollspyId:void 0),ve(te,"data-testid",`photo-grid-item-scrollspy-anchor-${e.scrollspyId??""}`)}),r(q,te)};N(k,q=>{e.scrollspyId&&q(y)})}var Y=b(k,2);{var $e=q=>{var te=ro(),he=_(te);tt(he,17,()=>Za(e.item),Ne=>Ne.type,(Ne,Le)=>{var Ce=ao();K(()=>{ve(Ce,"type",t(Le).type),ve(Ce,"srcset",t(Le).srcset)}),r(Ne,Ce)});var Te=b(he,2);f(te),K(()=>{He(te,1,`${ot.debugMode?"shrink-0":""}`),ve(Te,"src",t(Q)?.path??""),ve(Te,"alt",e.item.alt),ve(Te,"loading",o()),ve(Te,"width",t(Q).width),ve(Te,"height",t(Q).height),ve(Te,"data-testid",`photo-grid-item-image-${e.item.id??""}`)}),r(q,te)},Je=q=>{var te=no();K(()=>{ve(te,"src",t(F)?.path??e.item.adminThumbUrl),ve(te,"alt",e.item.alt),ve(te,"loading",o()),ve(te,"width",e.item.width),ve(te,"height",e.item.height),ve(te,"data-testid",`photo-grid-item-image-edit-mode-${e.item.id??""}`)}),r(q,te)};N(Y,q=>{L.editMode?q(Je,!1):q($e)})}f(h);var Fe=b(h,2);{var at=q=>{var te=io(),he=_(te);N(he,Ce=>{});var Te=b(he,2);N(Te,Ce=>{});var Ne=b(Te,2);{var Le=Ce=>{var Qe=so(),Ke=b(u(Qe),2);{var vt=dt=>{var it=oo();r(dt,it)};N(Ke,dt=>{e.item.id===e.curationGroup?.bestCandidateId&&dt(vt)})}r(Ce,Qe)};N(Ne,Ce=>{t(R)&&Ce(Le)})}f(te),r(q,te)};N(Fe,q=>{(t(R)||Qa)&&q(at)})}var Ye=b(Fe,2);{var We=q=>{{let te=z(()=>ta(e.item.id));In(q,{get aspectRatio(){return e.item.aspectRatio},get isCollage(){return t(te)}})}};N(Ye,q=>{T(e.item)&&q(We)})}var we=b(Ye,2);{var Me=q=>{kn(q,{get info(){return e.item.sequenceInfo}})};N(we,q=>{e.item.type==="sequence"&&e.item.sequenceInfo&&q(Me)})}var ze=b(we,2);{var Re=q=>{var te=fo();te.__click=Ce=>L.editMode?x(e.item.id,Ce):void 0;var he=_(te);{var Te=Ce=>{var Qe=co(),Ke=_(Qe),vt=_(Ke);{var dt=it=>{var Et=lo();K(()=>ve(Et,"data-testid",`photo-grid-item-selection-indicator-${e.item.id}`)),r(it,Et)};N(vt,it=>{t(E)&&it(dt)})}f(Ke),f(Qe),K(()=>{He(Ke,1,`h-6 w-6 rounded border border-white ${t(E)?"bg-blue-500":"bg-black/50"} flex shrink-0 items-center justify-center`),ve(Ke,"data-testid",`photo-grid-item-checkbox-${e.item.id??""}`)}),r(Ce,Qe)};N(he,Ce=>{L.editMode&&Ce(Te)})}var Ne=b(he,2);{var Le=Ce=>{var Qe=vo(),Ke=_(Qe);et(Ke,{variant:"secondary",class:"pointer-events-auto shadow-lg",onclick:D,children:(vt,dt)=>{var it=uo(),Et=u(it);Xt(Et,{class:"mr-2 size-4"}),Pe(),r(vt,it)},$$slots:{default:!0}}),f(Qe),r(Ce,Qe)};N(Ne,Ce=>{t(R)&&Ce(Le)})}f(te),K(Ce=>{He(te,1,Ce),ve(te,"data-testid",`photo-grid-item-overlay-${e.item.id}`)},[()=>nt(Ge("absolute inset-0 cursor-pointer transition-colors",L.editMode?"aspect-square":"aspect-[3/2]",t(E)?"bg-blue-500/20":"hover:bg-black/20",t(R)&&"bg-amber-500/10 hover:bg-amber-500/20",!L.editMode&&ot.curationMode&&e.curationGroup?"":"bg-black/10"))]),r(q,te)},ye=q=>{var te=go();r(q,te)};N(ze,q=>{L.editMode||t(R)?q(Re):q(ye,!1)})}K(q=>{ve(h,"data-label",e.item?.caption??e.item?.location??""),ve(h,"id",e.item.id),ve(h,"data-testid",`photo-grid-item-figure-${e.item.id??""}`),He(h,1,q),Ot(h,`background-color: ${e.item.placeholderColor}`)},[()=>nt(Ge("outline-background relative overflow-hidden rounded-lg border-2 border-transparent bg-cover bg-center transition-[outline-color,border-color] duration-300 ease-in-out",L.editMode?"aspect-square":"aspect-[3/2]",t(E)?"ring-2 ring-blue-300 outline-4 outline-blue-500":"outline-4 outline-offset-2 hover:outline-orange-100",t(R)&&"border-amber-500 outline-2 outline-amber-500/50",ot.debugMode&&"flex flex-col"))]),r(g,P)});var ge=b(De,2);i(ge,()=>({item:e.item}));var pe=b(ge,2);{var W=m=>{var g=ho(),P=_(g);Bt(P,{get data(){return e.item}}),f(g),r(m,g)};N(pe,m=>{ot.debugMode&&m(W)})}var de=b(pe,2);{var l=m=>{var g=_o(),P=u(g);Bn(P,()=>({item:e.item}));var h=b(P,2);a(h),r(m,g)};N(de,m=>{n()==="curation"&&m(l)})}r(Ee,Be)},$$slots:{default:!0}})})}var le=b(re,2);{var ee=Z=>{var J=M(),oe=u(J);G(oe,()=>_a,(_e,me)=>{me(_e,{children:(Ee,Ae)=>{var Be=M(),De=u(Be);G(De,()=>Fn,(ge,pe)=>{pe(ge,{class:"w-56",children:(W,de)=>{var l=Oo(),m=u(l);G(m,()=>rt,(we,Me)=>{Me(we,{class:"flex items-center gap-2",onclick:()=>e.onCopyMetadata?.(e.item),"data-testid":"photo-grid-item-contextmenu-copy-metadata",children:(ze,Re)=>{var ye=yo(),q=u(ye);Mt(q,{class:"h-4 w-4"}),Pe(2),r(ze,ye)},$$slots:{default:!0}})});var g=b(m,2);G(g,()=>rt,(we,Me)=>{Me(we,{class:"flex items-center gap-2",onclick:p,"data-testid":"photo-grid-item-contextmenu-copy-to-clipboard",children:(ze,Re)=>{var ye=bo(),q=u(ye);Mt(q,{class:"h-4 w-4"}),Pe(2),r(ze,ye)},$$slots:{default:!0}})});var P=b(g,2);{var h=we=>{var Me=M(),ze=u(Me);{var Re=q=>{var te=wo(),he=u(te);G(he,()=>rt,(Ne,Le)=>{Le(Ne,{class:"flex items-center gap-2",onclick:()=>e.onPasteMetadata?.(e.item),"data-testid":"photo-grid-item-contextmenu-paste-metadata-selection",children:(Ce,Qe)=>{var Ke=xo(),vt=_(Ke);Mt(vt,{class:"h-4 w-4 rotate-180"});var dt=b(vt,2),it=_(dt);f(dt),f(Ke),K(()=>ue(it,`Vlo≈æit na ${L.selection.size??""} vybran√Ωch`)),r(Ce,Ke)},$$slots:{default:!0}})});var Te=b(he,2);G(Te,()=>rt,(Ne,Le)=>{Le(Ne,{class:"flex items-center gap-2",onclick:()=>e.onPasteMetadata?.(e.item,!0),"data-testid":"photo-grid-item-contextmenu-paste-metadata-single",children:(Ce,Qe)=>{var Ke=Po();r(Ce,Ke)},$$slots:{default:!0}})}),r(q,te)},ye=q=>{var te=M(),he=u(te);G(he,()=>rt,(Te,Ne)=>{Ne(Te,{class:"flex items-center gap-2",onclick:()=>e.onPasteMetadata?.(e.item),"data-testid":"photo-grid-item-contextmenu-paste-metadata",children:(Le,Ce)=>{var Qe=Io(),Ke=u(Qe);Mt(Ke,{class:"h-4 w-4 rotate-180"}),Pe(2),r(Le,Qe)},$$slots:{default:!0}})}),r(q,te)};N(ze,q=>{L.selection.has(e.item.id)&&L.selection.size>1?q(Re):q(ye,!1)})}r(we,Me)};N(P,we=>{ht.sourceImage?.id!==e.item.id&&ht.data&&we(h)})}var k=b(P,2);G(k,()=>jt,(we,Me)=>{Me(we,{})});var y=b(k,2);{var Y=we=>{var Me=Eo(),ze=u(Me);G(ze,()=>rt,(ye,q)=>{q(ye,{class:"flex items-center gap-2",onclick:()=>e.onResetReleaseDate?.(e.item),"data-testid":"photo-grid-item-contextmenu-reset-releasedate-selection",children:(te,he)=>{var Te=So(),Ne=_(Te);Ut(Ne,{class:"h-4 w-4"});var Le=b(Ne,2),Ce=_(Le);f(Le),f(Te),K(()=>ue(Ce,`Resetovat datum ≈ôazen√≠ (${L.selection.size??""}√ó)`)),r(te,Te)},$$slots:{default:!0}})});var Re=b(ze,2);G(Re,()=>rt,(ye,q)=>{q(ye,{class:"flex items-center gap-2",onclick:()=>e.onResetReleaseDate?.(e.item,!0),"data-testid":"photo-grid-item-contextmenu-reset-releasedate-single",children:(te,he)=>{var Te=ko();r(te,Te)},$$slots:{default:!0}})}),r(we,Me)},$e=we=>{var Me=M(),ze=u(Me);G(ze,()=>rt,(Re,ye)=>{ye(Re,{class:"flex items-center gap-2",onclick:()=>e.onResetReleaseDate?.(e.item),"data-testid":"photo-grid-item-contextmenu-reset-releasedate",children:(q,te)=>{var he=Mo(),Te=u(he);Ut(Te,{class:"h-4 w-4"}),Pe(2),r(q,he)},$$slots:{default:!0}})}),r(we,Me)};N(y,we=>{L.selection.has(e.item.id)&&L.selection.size>1?we(Y):we($e,!1)})}var Je=b(y,2);{var Fe=we=>{var Me=Ao(),ze=u(Me);G(ze,()=>jt,(q,te)=>{te(q,{})});var Re=b(ze,2);G(Re,()=>rt,(q,te)=>{te(q,{class:"flex items-center gap-2",onclick:()=>e.onSwapTimes?.(),"data-testid":"photo-grid-item-contextmenu-swap-times",children:(he,Te)=>{var Ne=To(),Le=u(Ne);Xt(Le,{class:"h-4 w-4"}),Pe(2),r(he,Ne)},$$slots:{default:!0}})});var ye=b(Re,2);G(ye,()=>rt,(q,te)=>{te(q,{class:"flex items-center gap-2",onclick:()=>e.onRedistributeTimes?.(),"data-testid":"photo-grid-item-contextmenu-redistribute-times",children:(he,Te)=>{var Ne=Co(),Le=u(Ne);Er(Le,{class:"h-4 w-4"}),Pe(2),r(he,Ne)},$$slots:{default:!0}})}),r(we,Me)};N(Je,we=>{L.selection.size>=2&&L.selection.has(e.item.id)&&we(Fe)})}var at=b(Je,2);G(at,()=>jt,(we,Me)=>{Me(we,{})});var Ye=b(at,2);G(Ye,()=>rt,(we,Me)=>{Me(we,{class:"flex items-center gap-2 text-red-600 focus:bg-red-50 focus:text-red-600 dark:focus:bg-red-950",onclick:()=>e.onDelete?.(e.item),"data-testid":"photo-grid-item-contextmenu-delete-image",children:(ze,Re)=>{var ye=Do(),q=u(ye);Zt(q,{class:"h-4 w-4"}),Pe(2),r(ze,ye)},$$slots:{default:!0}})});var We=b(Ye,2);G(We,()=>rt,(we,Me)=>{Me(we,{class:"flex items-center gap-2",onclick:()=>e.onArchive?.(e.item),"data-testid":"photo-grid-item-contextmenu-archive-image",children:(ze,Re)=>{var ye=zo(),q=u(ye);Wt(q,{class:"h-4 w-4"}),Pe(2),r(ze,ye)},$$slots:{default:!0}})}),r(W,l)},$$slots:{default:!0}})}),r(Ee,Be)},$$slots:{default:!0}})}),r(Z,J)};N(le,Z=>{L.editMode&&Z(ee)})}r(w,$)},$$slots:{default:!0}})}),r(s,U),ie()}Rt(["click"]);var Ro=v('<div><div class="mb-4 flex items-center justify-between border-b border-slate-200 pb-2 dark:border-slate-800"><h3 class="flex items-center gap-2 text-lg font-bold"><span class="text-amber-600 dark:text-amber-500">≈òe≈°en√≠ duplicit</span> <span class="text-muted-foreground rounded border bg-white px-2 py-0.5 font-mono text-xs dark:bg-slate-800"> </span></h3> <div class="text-muted-foreground text-sm"> </div></div> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"></div></div>');function pa(s,e){se(e,!0);var a=Ro(),i=_(a),n=_(i),c=b(_(n),2),o=_(c,!0);f(c),f(n);var d=b(n,2),S=_(d);f(d),f(i);var A=b(i,2);tt(A,21,()=>e.items,C=>C.id,(C,X)=>{$t(C,{get item(){return t(X)},mode:"curation",get curationGroup(){return e.group},get onDelete(){return e.onDelete},get onArchive(){return e.onArchive},get onCopyMetadata(){return e.onCopyMetadata},get onSelect(){return e.onSelect}})}),f(A),f(a),K((C,X,fe)=>{He(a,1,C),ve(a,"data-testid",`curation-group-${e.group.id??""}`),ue(o,X),ue(S,`Podobnost: ${fe??""}%`)},[()=>nt(Ge("col-span-full my-8 rounded-xl border bg-slate-100 p-4 shadow-inner dark:bg-yellow-900/50",e.class)),()=>e.group.id.slice(0,8),()=>Math.round((e.group.similarity??0)*100)]),r(s,a),ie()}var qo=v("<!> <!>",1);function Lo(s,e){se(e,!0);let a=ce(e,"open",15,!1),i=z(()=>e.group?e.group.items.map(o=>Xa(o)).filter(o=>!!o):[]);var n=M(),c=u(n);G(c,()=>kt,(o,d)=>{d(o,{get open(){return a()},set open(S){a(S)},children:(S,A)=>{var C=M(),X=u(C);G(X,()=>wt,(fe,T)=>{T(fe,{class:"max-h-[90vh] max-w-[90vw] overflow-y-auto md:max-w-screen-xl","data-testid":"curation-group-dialog-content",children:(x,E)=>{var R=qo(),Q=u(R);G(Q,()=>It,(D,j)=>{j(D,{children:(p,ae)=>{var U=M(),V=u(U);G(V,()=>St,(I,O)=>{O(I,{children:(w,H)=>{Pe();var $=je("Porovn√°n√≠ duplicit");r(w,$)},$$slots:{default:!0}})}),r(p,U)},$$slots:{default:!0}})});var ne=b(Q,2);{var F=D=>{pa(D,{get group(){return e.group},get items(){return t(i)},class:"my-0 border-0 bg-transparent p-0 shadow-none dark:bg-transparent",get onDelete(){return e.onDelete},get onArchive(){return e.onArchive},get onCopyMetadata(){return e.onCopyMetadata},get onSelect(){return e.onSelect}})};N(ne,D=>{e.group&&t(i).length>0&&D(F)})}r(x,R)},$$slots:{default:!0}})}),r(S,C)},$$slots:{default:!0}})}),r(s,n),ie()}var Fo=v("<!> <!>",1),jo=v('<li class="flex items-center gap-3 text-sm"><img class="bg-muted h-20 w-20 rounded object-cover"/> <span class="font-mono text-xs"> </span></li>'),Go=v("<!> <!>",1),Uo=v('<!> <div class="my-4 max-h-75 overflow-y-auto rounded border p-2"><ul class="space-y-2"></ul></div> <!>',1);function Vo(s,e){se(e,!0);let a=ce(e,"open",15,!1),i=ce(e,"isDeleting",3,!1);var n=M(),c=u(n);G(c,()=>kt,(o,d)=>{d(o,{get open(){return a()},set open(S){a(S)},children:(S,A)=>{var C=M(),X=u(C);G(X,()=>wt,(fe,T)=>{T(fe,{"data-testid":"delete-image-dialog-content",children:(x,E)=>{var R=Uo(),Q=u(R);G(Q,()=>It,(j,p)=>{p(j,{children:(ae,U)=>{var V=Fo(),I=u(V);G(I,()=>St,(w,H)=>{H(w,{children:($,re)=>{Pe();var le=je("Opravdu smazat?");r($,le)},$$slots:{default:!0}})});var O=b(I,2);G(O,()=>qt,(w,H)=>{H(w,{children:($,re)=>{Pe();var le=je("Tato akce je nevratn√°. N√°sleduj√≠c√≠ soubory budou trvale smaz√°ny z disku:");r($,le)},$$slots:{default:!0}})}),r(ae,V)},$$slots:{default:!0}})});var ne=b(Q,2),F=_(ne);tt(F,21,()=>e.images,ut,(j,p)=>{var ae=jo(),U=_(ae),V=b(U,2),I=_(V,!0);f(V),f(ae),K((O,w)=>{ve(U,"src",O),ve(U,"alt",t(p).alt),ue(I,w)},[()=>t(p).sources.find(O=>O.variant==="fallback")?.path,()=>t(p).src.split("/").pop()]),r(j,ae)}),f(F),f(ne);var D=b(ne,2);G(D,()=>Yt,(j,p)=>{p(j,{children:(ae,U)=>{var V=Go(),I=u(V);et(I,{variant:"outline",type:"button",onclick:()=>a(!1),"data-testid":"delete-image-dialog-cancel",children:(w,H)=>{Pe();var $=je("Zru≈°it");r(w,$)},$$slots:{default:!0}});var O=b(I,2);et(O,{variant:"destructive",type:"button",get onclick(){return e.onConfirm},get disabled(){return i()},"data-testid":"delete-image-dialog-confirm",children:(w,H)=>{Pe();var $=je();K(()=>ue($,i()?"Maz√°n√≠...":"Potvrdit smaz√°n√≠")),r(w,$)},$$slots:{default:!0}}),r(ae,V)},$$slots:{default:!0}})}),r(x,R)},$$slots:{default:!0}})}),r(S,C)},$$slots:{default:!0}})}),r(s,n),ie()}var Bo=v('<div class="mt-4 flex flex-wrap justify-center gap-2"><button>Rovnomƒõrnƒõ rozprost≈ô√≠t</button> <button>Resetovat lokaci</button></div>'),$o=v('<span class="text-muted-foreground"></span>'),Yo=v('<tr><th class="text-muted-foreground min-w-16 px-1 py-1 text-left align-baseline font-medium"> </th><td><!></td></tr>'),Ho=v('<div data-testid="photo-grid-separator-metadata-container"><table class="mt-2 w-full rounded-md bg-slate-50 text-xs dark:bg-slate-950" data-testid="photo-grid-separator-metadata-table"><tbody></tbody></table></div>'),Ko=v('<div class="pointer-events-none absolute h-0 w-0" aria-hidden="true"></div>'),Jo=v('<p class="text-muted-foreground text-sm" data-testid="photo-grid-separator-city"> </p>'),Qo=v('<h3 class="text-lg" data-testid="photo-grid-separator-location"> </h3> <!> <span data-testid="photo-grid-separator-show-story">Zobrazit p≈ô√≠bƒõh</span> <!>',1),Zo=v("<!> <!>",1),Wo=v('<!> <div class="prose prose-sm dark:prose-invert mt-4 max-h-[80vh] max-w-none overflow-hidden pr-4"><!></div>',1),Xo=v("<!> <!>",1),es=v("<div><!> <!></div>"),ts=v('<p class="text-muted-foreground mt-1 text-sm"> </p>'),as=v('<div><h3 class="text-lg" data-testid="photo-grid-separator-location"> </h3> <!> <!></div> <!>',1),rs=v("<div><!></div>");function ns(s,e){se(e,!0);const a=x=>{var E=M(),R=u(E);{var Q=ne=>{var F=Bo(),D=_(F);D.__click=S;var j=b(D,2);j.__click=A,f(F),K((p,ae)=>{He(D,1,p),He(j,1,ae)},[()=>nt(Ge(Ft({variant:"outline",size:"sm"}),"bg-background/50 backdrop-blur-sm")),()=>nt(Ge(Ft({variant:"ghost",size:"sm"}),"text-muted-foreground hover:text-destructive"))]),r(ne,F)};N(R,ne=>{L.reorderMode&&e.dayId&&ne(Q)})}r(x,E)},i=x=>{const E=z(()=>[{label:"ID",value:e.item.id,isTechnical:!0},{label:"Start",value:e.item.startDate?pt(e.item.startDate):void 0},{label:"End",value:e.item.endDate?pt(e.item.endDate):void 0},{label:"Location",value:e.item.location},{label:"City",value:e.item.city},{label:"Title",value:e.item.storyTitle}]);var R=M(),Q=u(R);{var ne=F=>{var D=Ho(),j=_(D),p=_(j);tt(p,21,()=>t(E),ut,(ae,U,V)=>{var I=Yo(),O=_(I),w=_(O,!0);f(O);var H=b(O),$=_(H);{var re=ee=>{var Z=M(),J=u(Z);Gt(J,()=>t(U).value),r(ee,Z)},le=ee=>{var Z=$o();r(ee,Z)};N($,ee=>{t(U).value?ee(re):ee(le,!1)})}f(H),f(I),K((ee,Z)=>{He(I,1,nt(V<t(E).length-1?"border-b border-slate-400 dark:border-slate-700":"")),ve(I,"data-testid",`photo-grid-separator-metadata-row-${ee??""}`),ue(w,t(U).label),He(H,1,Z)},[()=>t(U).label.toLowerCase().replace(/\s+/g,"-"),()=>nt(Ge("w-full max-w-full min-w-0 py-1 text-left font-mono",t(U).label==="ID"?"break-all":"line-clamp-3 whitespace-pre-line",t(U).isTechnical&&"text-muted-foreground"))]),r(ae,I)}),f(p),f(j),f(D),r(F,D)};N(Q,F=>{t(o)&&F(ne)})}r(x,R)};let n=ce(e,"showMetadataOverlay",3,!1),c=ce(e,"isEmpty",3,!1),o=z(()=>n()||L.showMetadataOverlay||ct.url.searchParams.has("overlay")&&ct.url.searchParams.get("overlay")!=="false"),d=z(()=>e.item.id);async function S(x){if(x.stopPropagation(),!!confirm(`Opravdu chcete rovnomƒõrnƒõ p≈ôerozdƒõlit fotky v lokalitƒõ "${e.item.location}"?`))try{const R=await(await gt("/api/images/redistribute",{method:"POST",body:JSON.stringify({dayId:e.dayId,location:e.item.location})})).json();R.success?(Ie.success(`P≈ôerozdƒõleno ${R.redistributed} fotek`,{duration:4e3}),lt()):Ie.error(R.error||"Chyba p≈ôi p≈ôerozdƒõlov√°n√≠")}catch{Ie.error("Chyba p≈ôi komunikaci se serverem")}}async function A(x){if(x.stopPropagation(),!!confirm(`Opravdu chcete vr√°tit fotky v lokalitƒõ "${e.item.location}" do p≈Øvodn√≠ho po≈ôad√≠?`))try{(await(await gt("/api/images/reorder",{method:"DELETE",body:JSON.stringify({dayId:e.dayId,location:e.item.location})})).json()).success?(Ie.success("Lokace resetov√°na"),lt()):Ie.error("Chyba p≈ôi resetov√°n√≠")}catch{Ie.error("Chyba p≈ôi komunikaci se serverem")}}var C=M(),X=u(C);{var fe=x=>{var E=Ko();K(()=>ve(E,"id",t(d))),r(x,E)},T=x=>{var E=rs(),R=_(E);{var Q=F=>{var D=es(),j=_(D);G(j,()=>kt,(ae,U)=>{U(ae,{children:(V,I)=>{var O=Xo(),w=u(O);{let $=z(()=>Ge("flex w-full flex-col items-center justify-center overflow-hidden rounded-lg bg-linear-to-br from-slate-100 to-slate-300 p-4 text-center dark:from-slate-700 dark:to-slate-800",L.editMode?"dark:from-pink-700 dark:to-pink-800":"aspect-[3/2]"));G(w,()=>hr,(re,le)=>{le(re,{get class(){return t($)},get"data-testid"(){return`photo-grid-separator-trigger-${t(d)??""}`},children:(ee,Z)=>{var J=Qo(),oe=u(J),_e=_(oe,!0);f(oe);var me=b(oe,2);{var Ee=De=>{var ge=Jo(),pe=_(ge,!0);f(ge),K(()=>ue(pe,e.item.city)),r(De,ge)};N(me,De=>{e.item.city&&De(Ee)})}var Ae=b(me,2),Be=b(Ae,2);a(Be),K(De=>{ue(_e,e.item.location),He(Ae,1,De)},[()=>nt(Ft({size:"sm",variant:"link",class:"mt-2 text-sm"}))]),r(ee,J)},$$slots:{default:!0}})})}var H=b(w,2);G(H,()=>wt,($,re)=>{re($,{children:(le,ee)=>{var Z=Wo(),J=u(Z);G(J,()=>It,(me,Ee)=>{Ee(me,{children:(Ae,Be)=>{var De=Zo(),ge=u(De);G(ge,()=>St,(de,l)=>{l(de,{children:(m,g)=>{Pe();var P=je();K(()=>ue(P,e.item.storyTitle||e.item.location)),r(m,P)},$$slots:{default:!0}})});var pe=b(ge,2);{var W=de=>{var l=M(),m=u(l);G(m,()=>qt,(g,P)=>{P(g,{children:(h,k)=>{Pe();var y=je();K(()=>ue(y,e.item.city)),r(h,y)},$$slots:{default:!0}})}),r(de,l)};N(pe,de=>{e.item.city&&de(W)})}r(Ae,De)},$$slots:{default:!0}})});var oe=b(J,2),_e=_(oe);Gt(_e,()=>e.item.story),f(oe),K(()=>ve(oe,"data-testid",`photo-grid-separator-story-${t(d)??""}`)),r(le,Z)},$$slots:{default:!0}})}),r(V,O)},$$slots:{default:!0}})});var p=b(j,2);i(p),f(D),r(F,D)},ne=F=>{var D=as(),j=u(D),p=_(j),ae=_(p,!0);f(p);var U=b(p,2);{var V=w=>{var H=ts(),$=_(H,!0);f(H),K(()=>ue($,e.item.city)),r(w,H)};N(U,w=>{e.item.city&&w(V)})}var I=b(U,2);a(I),f(j);var O=b(j,2);i(O),K(w=>{He(j,1,w),ve(j,"data-testid",`photo-grid-separator-simple-${t(d)??""}`),ue(ae,e.item.location)},[()=>nt(Ge("flex w-full flex-col items-center justify-center overflow-hidden rounded-lg bg-linear-to-br from-slate-100 to-slate-300 p-4 text-center dark:from-slate-700 dark:to-slate-800",L.editMode?"dark:from-pink-700 dark:to-pink-800":"aspect-[3/2]"))]),r(F,D)};N(R,F=>{e.item.story?F(Q):F(ne,!1)})}f(E),Nt(E,(F,D)=>Kt?.(F,D),()=>({id:t(d)})),K(F=>{ve(E,"id",t(d)),He(E,1,F)},[()=>nt(Ge("flex flex-col",L.editMode?"col-span-full py-12":"aspect-[3/2]"))]),r(x,E)};N(X,x=>{c()||!Ve.showSeparators?x(fe):x(T,!1)})}r(s,C),ie()}Rt(["click"]);async function ia(s){const{action:e,images:a,onStart:i,onFinish:n,onSuccess:c,onError:o}=s;if(a.length!==0){i&&i();try{const d=e==="delete",C=await gt("/api/images",{method:d?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d?{ids:a}:{action:e,ids:a})});if(!C.ok){const x=await C.json();throw new Error(x.message||`Chyba p≈ôi operaci: ${e}`)}const X=await C.json();X.errors&&X.errors.length>0&&X.errors.forEach(function(x){Ie.warning(x)});const T=((d?X.deleted:X.archived)||[]).length;if(T>0){const x=d?"smaz√°no":"archivov√°no";Ie.success(st.actionSuccess(x,T))}c&&c(X),await lt()}catch(d){const S=d instanceof Error?d:new Error(String(d));Ie.error(`Nepoda≈ôilo se prov√©st akci ${e}: ${S.message}`),o&&o(S)}finally{n&&n()}}}const _t=va("reorder-utils");async function la(s){try{const e=await gt("/api/images/reorder",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok){const n=(await e.json()).message||"Failed to save order";return _t.error({status:e.status,error:n},"Reorder API error"),{success:!1,error:n}}const a=await e.json();return _t.info({updatedCount:a.updated,dayId:s.dayId},"Saved order for images"),await lt(),{success:!0}}catch(e){const a=e instanceof Error?e.message:String(e);return _t.error({err:e},"Failed to save image order"),{success:!1,error:a}}}async function os(s,e){try{const a=await gt("/api/images/reorder",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({dayId:s,contentDir:e})});if(!a.ok){const c=(await a.json()).message||"Failed to clear order";return _t.error({status:a.status,error:c},"Clear order API error"),{success:!1,error:c}}const i=await a.json();return _t.info({clearedCount:i.cleared,dayId:s},"Cleared order for images"),await lt(),{success:!0}}catch(a){const i=a instanceof Error?a.message:String(a);return _t.error({err:a},"Failed to clear image order"),{success:!1,error:i}}}function ss(s,e,a){const i=[...s],[n]=i.splice(e,1);return i.splice(a,0,n),i}function is(s,e,a){const[i,n]=[Math.min(e,a),Math.max(e,a)];return s.slice(i,n+1)}function da(s,e){return s.findIndex(a=>a.id===e)}var ls=v('<div draggable="true" role="listitem"><!></div>'),ds=v("<!> <!> <!> <!> <!>",1);function cs(s,e){se(e,!0);const a=va("PhotoGrid");let i=z(()=>(ct.data.photoDays||[]).flatMap(l=>l.items)),n=z(()=>{const l=new Map;let m="";for(const g of e.items)g.type==="separator"?m=g.id:(g.type==="image"||g.type==="collage"||g.type==="panorama"||g.type==="sequence")&&g.location&&g.location!=="Unknown"&&l.set(g.id,m||`loc-${tr(g.location)}`);return l}),c=z(()=>{const l=new Set;for(let m=0;m<e.items.length;m++){const g=e.items[m];if(g.type==="separator"){let P=0;for(let k=m+1;k<e.items.length;k++){const y=e.items[k];if(y.type==="separator")break;y.location===g.location&&P++}const h=!!g.story;P>0&&(P>2||h)&&l.add(g)}}return l}),o=z(()=>{const l=new Map;let m="",g=!1;for(const P of e.items)P.type==="separator"?(m=P.location,g=!0):(P.type==="image"||P.type==="collage"||P.type==="panorama"||P.type==="sequence")&&P.location&&P.location!=="Unknown"&&P.location!==m&&(g||l.set(P.id,!0),m=P.location,g=!1);return l}),d=z(()=>{const l=new Map;if(!e.curationManifest?.groups)return l;for(const m of e.curationManifest.groups)for(const g of m.items)l.set(g,m);return l}),S=z(()=>{const l=new Set;if(!e.items||(e.eagerLoadCount??0)<=0)return l;let m=0;const g=e.eagerLoadCount??0;for(const P of e.items)if(P.type!=="separator"&&(P.type==="image"||P.type==="collage"||P.type==="panorama"||P.type==="sequence")&&(l.add(P.id),m++,m>=g))break;return l}),A=Oe(null),C=Oe(null),X=z(()=>e.items.filter(l=>l.type==="image"||l.type==="sequence"||l.type==="panorama"||l.type==="collage"));async function fe(l){if(!t(A)||t(A)===l||!e.dayId)return;const m=t(X).map(Y=>Y.id),g=t(X).findIndex(Y=>Y.id===t(A)),P=t(X).findIndex(Y=>Y.id===l);if(g===-1||P===-1)return;const k=ss(t(X),g,P).map(Y=>Y.id),y=await la({dayId:e.dayId,imageIds:k});y.success?Ie.success("Po≈ôad√≠ ulo≈æeno",{action:{label:"Vr√°tit zpƒõt",onClick:async()=>{(await la({dayId:e.dayId,imageIds:m})).success?Ie.success("Vr√°ceno zpƒõt"):Ie.error("Nepoda≈ôilo se vr√°tit zmƒõny")}},duration:8e3}):Ie.error(y.error||"Nepoda≈ôilo se ulo≈æit po≈ôad√≠"),B(A,null),B(C,null)}let T=Oe(!1),x=Oe(!1),E=Oe(Ct([])),R=Oe(!1),Q=Oe(Ct([])),ne=Oe(!1),F=Oe(!1),D=Oe(!1),j=Oe(Ct([])),p=Oe(!1),ae=Oe(null);function U(l){B(ae,l??null,!0),B(p,!0)}function V(l){B(E,[l],!0),B(x,!0)}async function I(){t(T)||await ia({action:"delete",images:t(E).map(function(l){return{id:l.id,src:l.src}}),onStart(){B(T,!0)},onFinish(){B(T,!1)},onSuccess(l){B(x,!1),B(E,[],!0);const m=new Set(l.deleted);if(L.selection.size>0)for(const g of m)L.selection.has(g)&&L.removeSelection(g)}})}function O(l){L.selection.has(l.id)&&L.selection.size>1?B(j,e.items.filter(m=>(m.type==="image"||m.type==="sequence"||m.type==="panorama"||m.type==="collage")&&L.selection.has(m.id)),!0):B(j,[l],!0),B(D,!0)}async function w(){t(F)||await ia({action:"archive",images:t(j).map(function(l){return{id:l.id,src:l.src}}),onStart(){B(F,!0)},onFinish(){B(F,!1)},onSuccess(l){B(D,!1),B(j,[],!0);const m=new Set(l.archived);if(L.selection.size>0)for(const g of m)L.selection.has(g)&&L.removeSelection(g)}})}function H(l){ht.copy(l),Ie.success(st.metadataCopied(l.src.split("/").pop()||""))}function $(l,m=!1){const g=ht;if(!m&&L.selection.has(l.id)&&L.selection.size>1){const P=t(i).filter(h=>(h.type==="image"||h.type==="sequence"||h.type==="sequence-member"||h.type==="panorama"||h.type==="collage")&&L.selection.has(h.id));a.debug({itemId:l.id,selectionSize:L.selection.size,sourceId:g.sourceImage?.id,selectedIds:P.map(h=>h.id)},"Paste Logic"),B(Q,P.filter(h=>h.id!==g.sourceImage?.id),!0),a.debug({pasteTargetIds:t(Q).map(h=>h.id)},"pasteTargets")}else{if(a.debug({itemId:l.id},"Single Paste"),g.sourceImage?.id===l.id){Ie.error(st.PASTE_TO_SELF);return}if(l.sequenceInfo&&!m){const P=l.sequenceInfo.baseId,h=t(i).filter(k=>(k.type==="image"||k.type==="sequence"||k.type==="sequence-member"||k.type==="panorama"||k.type==="collage")&&k.sequenceInfo?.baseId===P);B(Q,h.filter(k=>k.id!==g.sourceImage?.id),!0),a.debug({expandedIds:t(Q).map(k=>k.id)},"Expanded sequence paste targets")}else B(Q,[l],!0)}B(R,!0)}async function re(l,m=[]){const g=ht;if(!g.data||t(Q).length===0)return;const P=t(Q).filter(y=>!m.includes(y.id));if(m.length>0&&L.selection.size>0&&m.forEach(y=>{L.selection.has(y)&&L.toggleSelection(y)}),P.length===0){Ie.info(st.NO_IMAGES_TO_EDIT),B(R,!1);return}B(ne,!0);const k=(async()=>{const y=g.data;if(!y)return;const Y={images:P.map(Je=>({id:Je.id,src:Je.src})),updates:{title:l.title&&y.title?y.title:void 0,author:l.author&&y.author?y.author:void 0,location:l.location&&y.location?y.location:void 0,city:l.city&&y.city?y.city:void 0,state:l.state&&y.state?y.state:void 0,country:l.country&&y.country?y.country:void 0,countryCode:l.countryCode&&y.countryCode?y.countryCode:void 0,caption:l.caption&&y.caption?y.caption:void 0,keywords:l.keywords&&y.keywords?.length?y.keywords:void 0}},$e=await gt("/api/images",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!$e.ok){let Je=st.METADATA_PASTE_FAILED;try{const Fe=await $e.json();Je=Fe.message||Je,Fe.errors&&Array.isArray(Fe.errors)&&a.error({errors:Fe.errors},"Batch processing errors")}catch(Fe){a.error({err:Fe},"Failed to parse error response")}throw new Error(Je)}B(R,!1)})();At(k,{loading:st.APPLYING_METADATA_PASTE,success:st.METADATA_PASTED,error:y=>st.ERROR_TITLE(y instanceof Error?y.message:st.UNKNOWN_ERROR),delay:500});try{await k,await lt()}catch(y){a.error({err:y},"Failed to paste metadata")}finally{B(ne,!1)}}async function le(l,m=!1){let g=[];if(!m&&L.selection.has(l.id)&&L.selection.size>1)g=t(i).filter(k=>(k.type==="image"||k.type==="sequence"||k.type==="sequence-member"||k.type==="panorama"||k.type==="collage")&&L.selection.has(k.id));else if(l.sequenceInfo&&!m){const k=l.sequenceInfo.baseId;g=t(i).filter(y=>(y.type==="image"||y.type==="sequence"||y.type==="sequence-member"||y.type==="panorama"||y.type==="collage")&&y.sequenceInfo?.baseId===k)}else g=[l];if(g.length===0){Ie.error("≈Ω√°dn√© obr√°zky k resetov√°n√≠");return}const h=(async()=>{const k={images:g.map(Y=>({id:Y.id,src:Y.src})),updates:{releaseDate:null}},y=await gt("/api/images",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!y.ok){const Y=await y.json();throw new Error(Y.message||"Nepoda≈ôilo se resetovat datum ≈ôazen√≠")}})();At(h,{loading:`Resetuji datum ≈ôazen√≠ (${g.length}√ó)...`,success:`Datum ≈ôazen√≠ resetov√°no (${g.length}√ó)`,error:k=>k instanceof Error?k.message:"Nepoda≈ôilo se resetovat",delay:500});try{await h,await lt()}catch(k){a.error({err:k},"Failed to reset release date")}}async function ee(){if(L.selection.size<2){Ie.error("Pro prohozen√≠ ƒças≈Ø mus√≠ b√Ωt vybr√°ny alespo≈à 2 fotky (reprezentuj√≠c√≠ 2 skupiny).");return}const l=Array.from(L.selection),m=fetch("/api/images/swap-time",{method:"POST",body:JSON.stringify({dayId:e.dayId,imageIds:l})}).then(async g=>{if(!g.ok){const P=await g.json();throw new Error(P.message||P.error||"Chyba serveru")}return g.json()});At(m,{loading:"Prohazuji ƒçasy...",success:"ƒåasy √∫spƒõ≈°nƒõ prohozeny",error:g=>g instanceof Error?g.message:"Chyba p≈ôi prohozen√≠"});try{await m,await lt()}catch(g){a.error({err:g},"Failed to swap times")}}async function Z(){if(L.selection.size<2){Ie.error("Pro rozprost≈ôen√≠ ƒças≈Ø mus√≠ b√Ωt vybr√°ny alespo≈à 2 fotky.");return}const l=Array.from(L.selection),m=new Map,g=(ct.data.photoDays||[]).flatMap(h=>h.items);for(const h of l){const k=g.find(y=>y.id===h);k&&m.set(h,k.exif?.releaseDate||k.exif?.date||null)}const P=fetch("/api/images/redistribute",{method:"POST",body:JSON.stringify({dayId:e.dayId,imageIds:l})}).then(async h=>{if(!h.ok){const k=await h.json();throw new Error(k.message||k.error||"Chyba serveru")}return h.json()});Ie.promise(P,{loading:`Rozprost√≠r√°m ƒçasy (${l.length}√ó)...`,success:h=>`ƒåasy rozprost≈ôeny (${h.redistributed}√ó)`,error:h=>h instanceof Error?h.message:"Chyba p≈ôi rozprost≈ôen√≠",action:{label:"Vr√°tit zpƒõt",onClick:async()=>{let h=0;const k=l.length,y=Ie.loading(`Vrac√≠m zmƒõny (0/${k})...`);try{for(const[Y,$e]of m)$e&&(await fetch("/api/images",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({images:[{id:Y,src:""}],updates:{releaseDate:$e}})}),h++,h%5===0&&Ie.loading(`Vrac√≠m zmƒõny (${h}/${k})...`,{id:y}));Ie.success("Zmƒõny vr√°ceny",{id:y}),await lt()}catch(Y){a.error({err:Y},"Failed to undo redistribution"),Ie.error("Nepoda≈ôilo se vr√°tit v≈°echny zmƒõny",{id:y})}}}});try{await P,await lt()}catch(h){a.error({err:h},"Failed to redistribute times")}}zt(J);function J(){ot.debugMode&&(a.debug({debugMode:ot.debugMode},"PhotoGrid debug store value"),a.debug({itemsCount:e.items.length,itemTypes:e.items.map(l=>l.type),visibleSeparatorsCount:t(c).size,visibleSeparators:Array.from(t(c)),selectedAuthors:Ve.selectedAuthors,imageLocations:t(n)},"PhotoGrid render"))}let oe=z(()=>{if(!ot.curationMode||!e.curationManifest?.groups)return e.items.map(h=>({type:"item",data:h}));const l=[],m=new Map;e.items.forEach(h=>{(h.type==="image"||h.type==="collage"||h.type==="panorama"||h.type==="sequence")&&m.set(h.id,h)});const g=new Map;for(const h of e.curationManifest.groups){const k=h.items.map(y=>m.get(y)).filter(y=>!!y);if(k.length>1)for(const y of k)g.set(y.id,{group:h,items:k})}const P=new Set;for(const h of e.items){if(h.type==="separator"){l.push({type:"item",data:h});continue}const k=g.get(h.id);k?P.has(k.group.id)||(l.push({type:"group",data:k.group,items:k.items}),P.add(k.group.id)):l.push({type:"item",data:h})}return l}),_e=Oe(null),me=z(()=>{const l=[];for(const m of t(oe))m.type==="group"?l.push(...m.items):m.type==="item"&&(m.data.type==="image"||m.data.type==="collage"||m.data.type==="panorama"||m.data.type==="sequence")&&l.push(m.data);return l});function Ee(l,m){if(m&&t(_e)){const g=da(t(me),t(_e)),P=da(t(me),l.id);if(g!==-1&&P!==-1){const h=is(t(me),g,P);L.addMultiple(h.map(k=>k.id));return}}if(l.sequenceInfo){const g=l.sequenceInfo.baseId,h=t(i).filter(y=>(y.type==="image"||y.type==="sequence"||y.type==="sequence-member"||y.type==="panorama"||y.type==="collage")&&y.sequenceInfo?.baseId===g).map(y=>y.id);h.some(y=>L.selection.has(y))?L.removeMultiple(h):L.addMultiple(h),!m&&h.length>0&&B(_e,h[0],!0)}else L.toggleSelection(l.id),m||B(_e,l.id,!0)}let Ae=z(()=>L.showMetadataOverlay||ct.url.searchParams.has("overlay")&&ct.url.searchParams.get("overlay")!=="false");var Be=ds(),De=u(Be);tt(De,17,()=>t(oe),ut,(l,m)=>{var g=M(),P=u(g);{var h=y=>{pa(y,{get items(){return t(m).items},get group(){return t(m).data},onDelete:V,onArchive:O,onCopyMetadata:H,onSelect:Ee,get eagerLoadIds(){return t(S)}})},k=y=>{const Y=z(()=>t(m).data);var $e=M(),Je=u($e);{var Fe=Ye=>{var We=M(),we=u(We);{var Me=Re=>{var ye=ls();let q;var te=_(ye);{let he=z(()=>t(n).get(t(Y).id)),Te=z(()=>t(o).get(t(Y).id)),Ne=z(()=>t(d).get(t(Y).id)),Le=z(()=>t(S).has(t(Y).id)?"eager":"lazy");$t(te,{get item(){return t(Y)},get scrollspyId(){return t(he)},get isAnchor(){return t(Te)},get curationGroup(){return t(Ne)},onDelete:V,onArchive:O,onCopyMetadata:H,onPasteMetadata:$,onResetReleaseDate:le,onSwapTimes:ee,onRedistributeTimes:Z,onOpenCurationDialog:U,onSelect:Ee,get loading(){return t(Le)}})}f(ye),K(()=>{q=He(ye,1,"transition-all duration-150",null,q,{"opacity-50":t(A)===t(Y).id,"ring-2":t(C)===t(Y).id,"ring-blue-500":t(C)===t(Y).id,"cursor-grab":!t(A),"cursor-grabbing":t(A)===t(Y).id}),ve(ye,"aria-grabbed",t(A)===t(Y).id)}),bt("dragstart",ye,he=>{B(A,t(Y).id,!0),he.dataTransfer?.setData("text/plain",t(Y).id),he.dataTransfer&&(he.dataTransfer.effectAllowed="move")}),bt("dragend",ye,()=>{B(A,null),B(C,null)}),bt("dragover",ye,he=>{he.preventDefault(),he.dataTransfer&&(he.dataTransfer.dropEffect="move"),t(A)&&t(A)!==t(Y).id&&B(C,t(Y).id,!0)}),bt("dragleave",ye,()=>{t(C)===t(Y).id&&B(C,null)}),bt("drop",ye,he=>{he.preventDefault(),fe(t(Y).id)}),r(Re,ye)},ze=Re=>{{let ye=z(()=>t(n).get(t(Y).id)),q=z(()=>t(o).get(t(Y).id)),te=z(()=>t(d).get(t(Y).id)),he=z(()=>t(S).has(t(Y).id)?"eager":"lazy");$t(Re,{get item(){return t(Y)},get scrollspyId(){return t(ye)},get isAnchor(){return t(q)},get curationGroup(){return t(te)},onDelete:V,onArchive:O,onCopyMetadata:H,onPasteMetadata:$,onResetReleaseDate:le,onSwapTimes:ee,onRedistributeTimes:Z,onSelect:Ee,onOpenCurationDialog:U,get loading(){return t(he)}})}};N(we,Re=>{L.reorderMode&&e.dayId?Re(Me):Re(ze,!1)})}r(Ye,We)},at=Ye=>{var We=M(),we=u(We);{var Me=ze=>{{let Re=z(()=>!t(c).has(t(Y)));ns(ze,{get item(){return t(Y)},get showMetadataOverlay(){return t(Ae)},get dayId(){return e.dayId},get isEmpty(){return t(Re)}})}};N(we,ze=>{t(Y).type==="separator"&&t(Y).location&&ze(Me)},!0)}r(Ye,We)};N(Je,Ye=>{t(Y).type==="image"||t(Y).type==="sequence"||t(Y).type==="panorama"||t(Y).type==="collage"?Ye(Fe):Ye(at,!1)})}r(y,$e)};N(P,y=>{t(m).type==="group"?y(h):y(k,!1)})}r(l,g)});var ge=b(De,2);Vo(ge,{get images(){return t(E)},get isDeleting(){return t(T)},onConfirm:I,get open(){return t(x)},set open(l){B(x,l,!0)}});var pe=b(ge,2);er(pe,{get images(){return t(Q)},get clipboardData(){return ht.data},onConfirm:re,onOpenCurationDialog:U,get open(){return t(R)},set open(l){B(R,l,!0)}});var W=b(pe,2);Pn(W,{get images(){return t(j)},get isArchiving(){return t(F)},onConfirm:w,get open(){return t(D)},set open(l){B(D,l,!0)}});var de=b(W,2);Lo(de,{get group(){return t(ae)},onDelete:V,onArchive:O,onCopyMetadata:H,onSelect:Ee,get open(){return t(p)},set open(l){B(p,l,!0)}}),r(s,Be),ie()}var us=v('<section class="container mx-auto px-6 py-12"><!></section>'),vs=v('<section class="container mx-auto px-6 py-12 text-center"><!></section>'),fs=v('<div class="pointer-events-none absolute" aria-hidden="true"></div>'),gs=v(`<span class="mb-1 block text-xs font-normal tracking-[0.05em] uppercase before:mr-4 before:tracking-[-0.3em] before:opacity-[0.34] before:content-['‚Äî‚Äî‚Äî'] after:ml-3 after:tracking-[-0.3em] after:opacity-[0.34] after:content-['‚Äî‚Äî‚Äî']"><!></span> `,1),ms=v(`<span class="mb-1 block text-xs font-normal tracking-[0.05em] uppercase before:mr-4 before:tracking-[-0.3em] before:opacity-[0.34] before:content-['‚Äî‚Äî‚Äî'] after:ml-3 after:tracking-[-0.3em] after:opacity-[0.34] after:content-['‚Äî‚Äî‚Äî']"> </span> `,1),hs=v('<div data-cy="day-cities" class="mb-6 text-lg"> </div>'),_s=v('<div data-cy="day-where" class="mx-auto mb-5 flex flex-wrap justify-center gap-2"></div>'),ps=v("<!> ",1),ys=v("<!> ",1),bs=v("<!> Resetovat po≈ôad√≠",1),xs=v('<div class="mt-4 flex justify-center gap-2 opacity-100 transition-opacity"><!> <!></div>'),Ps=v('<section class="container mx-auto px-6 py-8" data-testid="day-section"><div data-cy="day-head" class="group relative mx-auto my-12 max-w-xl text-center"><!> <h2 class="mb-1 text-3xl leading-snug"><!></h2> <!> <!> <!></div> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"><!></div></section>'),ws=v("<div></div>"),Is=v(`Tato akce zru≈°√≠ ve≈°ker√© manu√°ln√≠ √∫pravy po≈ôad√≠ pro vybran√Ω den a se≈ôad√≠ fotky chronologicky
        podle ƒçasu po≈ô√≠zen√≠ (EXIF). <br/><br/> Nastaven√© ƒçasy (ReleaseDate) budou p≈ôeps√°ny p≈Øvodn√≠m ƒçasem po≈ô√≠zen√≠. Tato akce je nevratn√°.`,1),Ss=v("<!> <!>",1),ks=v("<!> <!>",1),Es=v("<!> <!>",1),Ms=v("<!> <!> <!>",1);function qs(s,e){se(e,!0);let a=z(()=>Ve.filteredPhotoDays),i=z(()=>rr(t(a))),n=z(()=>{const x={authors:Ve.selectedAuthors.length>0,people:Ve.selectedPeople.length>0,quality:Ve.selectedQualityBuckets.length>0,mediaTypes:Ve.selectedMediaTypes.length>0,onlySnapshots:Ve.onlySnapshots};if(Object.values(x).filter(Boolean).length>1)return{title:qe.GENERIC_TITLE,description:qe.GENERIC_DESCRIPTION,icon:ea,action:{label:qe.RESET_ALL,handler:()=>Ve.reset()}};if(x.authors)return{title:qe.AUTHORS_TITLE,description:qe.AUTHORS_DESCRIPTION,icon:Mr,action:{label:qe.AUTHORS_RESET,handler:()=>{Ve.selectedAuthors=[]}}};if(x.people)return{title:qe.PEOPLE_TITLE,description:qe.PEOPLE_DESCRIPTION,icon:Tr,action:{label:qe.PEOPLE_RESET,handler:()=>{Ve.selectedPeople=[]}}};if(x.quality)return{title:qe.QUALITY_TITLE,description:qe.QUALITY_DESCRIPTION,icon:_r,action:{label:qe.QUALITY_RESET,handler:()=>{Ve.selectedQualityBuckets=[]}}};if(x.mediaTypes){const R=Ve.selectedMediaTypes.includes("sequence");return{title:qe.MEDIA_TYPE_TITLE,description:qe.MEDIA_TYPE_DESCRIPTION,icon:R?kr:ar,action:{label:qe.MEDIA_TYPE_RESET,handler:()=>{Ve.selectedMediaTypes=[]}}}}return x.onlySnapshots?{title:qe.ONLY_SNAPSHOTS_TITLE,description:qe.ONLY_SNAPSHOTS_DESCRIPTION,icon:pr,action:{label:qe.ONLY_SNAPSHOTS_RESET,handler:()=>{Ve.onlySnapshots=!1}}}:{title:qe.GENERIC_TITLE,description:qe.GENERIC_DESCRIPTION,icon:ea,action:{label:qe.RESET_ALL,handler:()=>Ve.reset()}}}),c=Oe(!1),o=Oe(null);async function d(){t(o)&&(await At(os(t(o)),{loading:"Resetuji po≈ôad√≠ fotek...",success:"Po≈ôad√≠ fotek bylo obnoveno dle data po≈ô√≠zen√≠ (EXIF).",error:"Nepoda≈ôilo se resetovat po≈ôad√≠ fotek."}),B(c,!1),B(o,null))}var S=Ms(),A=u(S);_n(A,{});var C=b(A,2);{var X=x=>{var E=us(),R=_(E);sa(R,{get title(){return t(n).title},get description(){return t(n).description},get icon(){return t(n).icon},get action(){return t(n).action}}),f(E),r(x,E)},fe=x=>{var E=M(),R=u(E);{var Q=F=>{var D=vs(),j=_(D);sa(j,{get title(){return qe.NO_DATA_TITLE},get description(){return qe.NO_DATA_DESCRIPTION},get icon(){return xr}}),f(D),r(F,D)},ne=F=>{var D=ws();tt(D,23,()=>t(i),j=>j.id??`day-${j.date}`,(j,p,ae)=>{const U=z(()=>t(p).id??`day-${t(p).date}`);var V=M(),I=u(V);{var O=w=>{var H=Ps(),$=_(H),re=_($);{var le=W=>{var de=M(),l=u(de);tt(l,17,()=>t(p).mergedDates,ut,(m,g)=>{var P=fs();K(()=>ve(P,"id",`day-${t(g)??""}`)),r(m,P)}),r(W,de)};N(re,W=>{t(p).mergedDates&&W(le)})}var ee=b(re,2),Z=_(ee);{var J=W=>{var de=gs(),l=u(de),m=_(l);{var g=k=>{var y=je();K((Y,$e)=>ue(y,`${Y??""} a ${$e??""}`),[()=>xt(t(p).mergedDates[0]),()=>xt(t(p).mergedDates[1])]),r(k,y)},P=k=>{var y=je();K((Y,$e)=>ue(y,`${Y??""}‚Äî${$e??""}`),[()=>xt(t(p).mergedDates[0]),()=>xt(t(p).mergedDates[t(p).mergedDates.length-1])]),r(k,y)};N(m,k=>{t(p).mergedDates.length===2?k(g):k(P,!1)})}f(l);var h=b(l);K(k=>ue(h,` ${k??""}`),[()=>nr(t(p).mergedDates)]),r(W,de)},oe=W=>{var de=ms(),l=u(de),m=_(l,!0);f(l);var g=b(l);K((P,h)=>{ue(m,P),ue(g,` ${h??""}`)},[()=>xt(t(p).date),()=>or(t(p).date)]),r(W,de)};N(Z,W=>{t(p).mergedDates?W(J):W(oe,!1)})}f(ee);var _e=b(ee,2);{var me=W=>{var de=hs(),l=_(de,!0);f(de),K(m=>ue(l,m),[()=>t(p).cities.join(" ‚Äî ")]),r(W,de)};N(_e,W=>{t(p).cities&&t(p).cities.length>0&&W(me)})}var Ee=b(_e,2);{var Ae=W=>{var de=_s();tt(de,20,()=>t(p).locations,l=>l,(l,m)=>{sr(l,{variant:"secondary",children:(g,P)=>{Pe();var h=je();K(()=>ue(h,m)),r(g,h)},$$slots:{default:!0}})}),f(de),r(W,de)};N(Ee,W=>{t(p).locations&&t(p).locations.length>0&&W(Ae)})}var Be=b(Ee,2);{var De=W=>{const de=z(()=>t(p).items.filter(h=>h.type==="image").map(h=>h.id)),l=z(()=>t(de).length>0&&t(de).every(h=>L.selection.has(h)));var m=xs(),g=_(m);et(g,{variant:"outline",size:"sm",class:"gap-2",onclick:()=>{t(l)?L.removeMultiple(t(de)):L.addMultiple(t(de))},children:(h,k)=>{var y=M(),Y=u(y);{var $e=Fe=>{var at=ps(),Ye=u(at);fa(Ye,{size:14});var We=b(Ye);K(()=>ue(We,` ${t(p).mergedDates?"Zru≈°it v√Ωbƒõr dn≈Ø":"Zru≈°it v√Ωbƒõr dne"}`)),r(Fe,at)},Je=Fe=>{var at=ys(),Ye=u(at);Sr(Ye,{size:14});var We=b(Ye);K(()=>ue(We,` ${t(p).mergedDates?"Vybrat cel√© dny":"Vybrat cel√Ω den"}`)),r(Fe,at)};N(Y,Fe=>{t(l)?Fe($e):Fe(Je,!1)})}r(h,y)},$$slots:{default:!0}});var P=b(g,2);et(P,{variant:"outline",size:"sm",class:"gap-2",onclick:()=>{B(o,t(U),!0),B(c,!0)},children:(h,k)=>{var y=bs(),Y=u(y);Ut(Y,{size:14}),Pe(),r(h,y)},$$slots:{default:!0}}),f(m),r(W,m)};N(Be,W=>{L.editMode&&W(De)})}f($);var ge=b($,2),pe=_(ge);{let W=z(()=>t(ae)===0?4:0);cs(pe,{get items(){return t(p).items},get dayId(){return t(U)},get curationManifest(){return e.data.curationManifest},get eagerLoadCount(){return t(W)}})}f(ge),f(H),Nt(H,(W,de)=>Kt?.(W,de),()=>({id:t(U)})),K(()=>ve(H,"id",t(U))),r(w,H)};N(I,w=>{t(p).items.length>0&&w(O)})}r(j,V)}),f(D),Nt(D,j=>Zr?.(j)),r(F,D)};N(R,F=>{t(i).length===0&&Ve.sourceData.length===0?F(Q):F(ne,!1)},!0)}r(x,E)};N(C,x=>{Ve.visiblePhotos===0&&Ve.sourceData.length>0?x(X):x(fe,!1)})}var T=b(C,2);G(T,()=>kt,(x,E)=>{E(x,{get open(){return t(c)},set open(R){B(c,R,!0)},children:(R,Q)=>{var ne=M(),F=u(ne);G(F,()=>wt,(D,j)=>{j(D,{children:(p,ae)=>{var U=Es(),V=u(U);G(V,()=>It,(O,w)=>{w(O,{children:(H,$)=>{var re=Ss(),le=u(re);G(le,()=>St,(Z,J)=>{J(Z,{children:(oe,_e)=>{Pe();var me=je("Obnovit p≈Øvodn√≠ po≈ôad√≠?");r(oe,me)},$$slots:{default:!0}})});var ee=b(le,2);G(ee,()=>qt,(Z,J)=>{J(Z,{class:"pt-2",children:(oe,_e)=>{Pe();var me=Is();Pe(3),r(oe,me)},$$slots:{default:!0}})}),r(H,re)},$$slots:{default:!0}})});var I=b(V,2);G(I,()=>Yt,(O,w)=>{w(O,{children:(H,$)=>{var re=ks(),le=u(re);et(le,{variant:"outline",onclick:()=>{B(c,!1),B(o,null)},children:(Z,J)=>{Pe();var oe=je("Zru≈°it");r(Z,oe)},$$slots:{default:!0}});var ee=b(le,2);et(ee,{variant:"destructive",onclick:d,children:(Z,J)=>{Pe();var oe=je("Obnovit po≈ôad√≠");r(Z,oe)},$$slots:{default:!0}}),r(H,re)},$$slots:{default:!0}})}),r(p,U)},$$slots:{default:!0}})}),r(R,ne)},$$slots:{default:!0}})}),r(s,S),ie()}export{qs as component};
